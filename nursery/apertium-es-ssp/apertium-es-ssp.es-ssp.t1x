<?xml version="1.0" encoding="UTF-8"?>
<!-- -*- nxml -*- -->
<transfer default="chunk">
  <section-def-cats>
    <def-cat n="nom">
      <cat-item tags="n.*"/>
    </def-cat>
    <def-cat n="ant">
      <cat-item tags="np.ant"/>
    </def-cat>
    <def-cat n="loc">
      <cat-item tags="np.loc"/>
    </def-cat>
    <def-cat n="adjpos">
      <cat-item tags="adj.pos.*"/>
    </def-cat>

<def-cat n="adj__pp">
      <cat-item tags="adj.*"/>
      <cat-item tags="vblex.pp.*"/>
      <cat-item tags="vbmod.pp.*"/>
      <cat-item tags="vbhaver.pp.*"/>
    </def-cat>

    <def-cat n="adjec">
      <cat-item tags="adj.*"/>
      <cat-item tags="adj.pos.*"/>
      <cat-item tags="vblex.pp.*"/>
      <cat-item tags="vbmod.pp.*"/>
      <cat-item tags="vbhaver.pp.*"/>
      <cat-item tags="vbser.pp.*"/>
    </def-cat>
    <def-cat n="det">
      <cat-item tags="det.dem.*"/>
      <cat-item tags="det.ind.*"/>
      <cat-item tags="det.def.*"/>
      <cat-item tags="det.pos.*"/>
      <cat-item tags="det.qnt.*"/>
      <cat-item tags="det.itg.*"/>
      <cat-item tags="det.ord.*"/>
      <cat-item tags="predet.*"/>
    </def-cat>
    <def-cat n="detdef">
      <cat-item tags="det.def.*"/>
    </def-cat>
    <def-cat n="detpos">
      <cat-item tags="det.pos.*"/>
    </def-cat>
    <def-cat n="detdem">
      <cat-item tags="det.dem.*"/>
    </def-cat>
    <def-cat n="detind">
      <cat-item tags="det.ind.*"/>
    </def-cat>

    <def-cat n="percent">
      <cat-item tags="num.percent"/>
    </def-cat>
    <def-cat n="num">
      <cat-item tags="num.*"/>
      <cat-item tags="num"/>
    </def-cat>
    <def-cat n="numeral">
      <cat-item tags="num.*"/>
    </def-cat>
    <def-cat n="cifra">
      <cat-item tags="num"/>
    </def-cat>
    <def-cat n="prep">
      <cat-item tags="pr"/>
    </def-cat>
    <def-cat n="prnperssubj">
      <!-- pronoms personals-->
      <cat-item lemma="yo" tags="prn.*"/>
      <cat-item lemma="tú" tags="prn.*"/>
      <cat-item lemma="él" tags="prn.*"/>
      <cat-item lemma="nosotros" tags="prn.*"/>
      <cat-item lemma="vosotros" tags="prn.*"/>
    </def-cat>
    <def-cat n="prnsubj">
      <!-- prn no personals que poden ser subjecte-->
      <cat-item tags="prn.tn.*"/>
      <cat-item lemma="quién" tags="prn.itg.*"/>
      <cat-item lemma="que" tags="prn.itg.*"/>
      <cat-item lemma="el cual" tags="prn.itg.*"/>
      <cat-item lemma="alguno" tags="prn.*"/>
      <!--falta afegir als dicos-->
    </def-cat>

<def-cat n="partitg">
            <cat-item tags="prn.itg.*"/>
            <cat-item tags="adv.itg.*"/>
    </def-cat>
 
    <def-cat n="prnitg">
      <cat-item tags="prn.itg.*"/>
    </def-cat>
    <def-cat n="rel">
      <cat-item tags="prn.rel.*"/>
      <cat-item tags="rel.*"/>
    </def-cat>
    <def-cat n="prnenc">
      <cat-item tags="prn.enc.*"/>
    </def-cat>
    <def-cat n="prnpro">
      <cat-item tags="prn.pro.*"/>
    </def-cat>

<def-cat n="acabarpri">
      <cat-item lemma="acabar" tags="vblex.pri.*"/>
      <cat-item lemma="terminar" tags="vblex.pri.*"/>
    </def-cat>

<def-cat n="acabarprs">
      <cat-item lemma="acabar" tags="vblex.prs.*"/>
      <cat-item lemma="terminar" tags="vblex.prs.*"/>
    </def-cat>

<def-cat n="acabarfti">
      <cat-item lemma="acabar" tags="vblex.fti.*"/>
      <cat-item lemma="terminar" tags="vblex.fti.*"/>
    </def-cat>

<def-cat n="acabarpii">
      <cat-item lemma="acabar" tags="vblex.pii.*"/>
    </def-cat>

<def-cat n="acabarifi">
      <cat-item lemma="acabar" tags="vblex.ifi.*"/>
      <cat-item lemma="terminar" tags="vblex.ifi.*"/>
    </def-cat>

<def-cat n="acabarinf">
      <cat-item lemma="acabar" tags="vblex.inf"/>
      <cat-item lemma="terminar" tags="vblex.inf"/>
    </def-cat>

<def-cat n="acabarcni">
      <cat-item lemma="acabar" tags="vblex.cni.*"/>
      <cat-item lemma="terminar" tags="vblex.cni.*"/>
    </def-cat>

<def-cat n="acabarger">
      <cat-item lemma="acabar" tags="vblex.ger"/>
      <cat-item lemma="terminar" tags="vblex.ger"/>
    </def-cat>

    <def-cat n="ser">
      <cat-item tags="vbser.prs.*"/>
      <cat-item tags="vbser.fts.*"/>
      <cat-item tags="vbser.pis.*"/>
      <cat-item tags="vbser.pii.*"/>
      <cat-item tags="vbser.ifi.*"/>
      <cat-item tags="vbser.imp.*"/>
      <cat-item tags="vbser.fti.*"/>
      <cat-item tags="vbser.cni.*"/>
      <cat-item tags="vbser.pri.*"/>
    </def-cat>
    <def-cat n="aux">
      <!--verbs que fan d'aux seguits de pp-->
      <cat-item tags="vbhaver.*"/>
    </def-cat>
    <def-cat n="imp">
      <cat-item tags="vblex.imp.*"/>
      <cat-item tags="vbser.imp.*"/>
      <cat-item tags="vbhaver.imp.*"/>
      <cat-item tags="vbmod.imp.*"/>
    </def-cat>
    <def-cat n="ger">
      <cat-item tags="vblex.ger"/>
      <cat-item tags="vbser.ger"/>
      <cat-item tags="vbhaver.ger"/>
      <cat-item tags="vbmod.ger"/>
    </def-cat>
    <def-cat n="verbm">
      <!--verb modal -->
      <cat-item tags="vbmod.*"/>
    </def-cat>
    <def-cat n="verbm_inf_ger">
      <!--verb modal, infinitiu o gerundi -->
      <cat-item tags="vbmod.inf"/>
      <cat-item tags="vbmod.ger"/>
    </def-cat>
    <def-cat n="haver">
      <cat-item tags="vbhaver.*"/>
    </def-cat>


   <def-cat n="verbpres">
      <cat-item tags="vblex.pri.*"/>
      <cat-item tags="vblex.prs.*"/>
      <cat-item tags="vbmod.pri.*"/>
      <cat-item tags="vbmod.prs.*"/>
      <cat-item tags="vbhaver.pri.*"/>
      <cat-item tags="vbhaver.prs.*"/>
   </def-cat>

  <def-cat n="verbpas">
      <cat-item tags="vblex.ifi.*"/>
      <cat-item tags="vblex.pii.*"/>
      <cat-item tags="vbmod.ifi.*"/>
      <cat-item tags="vbmod.pii.*"/>
      <cat-item tags="vbhaver.ifi.*"/>
      <cat-item tags="vbhaver.pii.*"/>
   </def-cat>

  <def-cat n="verbfut">
      <cat-item tags="vblex.fti.*"/>
      <cat-item tags="vbmod.fti.*"/>
      <cat-item tags="vbhaver.fti.*"/>
   </def-cat>

  <def-cat n="verbcond">
      <cat-item tags="vblex.cni.*"/>
      <cat-item tags="vblex.pis.*"/>
      <cat-item tags="vblex.fts.*"/>
      <cat-item tags="vbmod.cni.*"/>
      <cat-item tags="vbmod.pis.*"/>
      <cat-item tags="vbmod.fts.*"/>
      <cat-item tags="vbhaver.cni.*"/>
      <cat-item tags="vbhaver.pis.*"/>
      <cat-item tags="vbhaver.fts.*"/>
   </def-cat>

<def-cat n="haver_ya">
      <cat-item tags="vbhaver.pii.*"/>
      <cat-item tags="vbhaver.pri.*"/>
      <cat-item tags="vbhaver.prs.*"/>
      <cat-item tags="vbhaver.inf"/>
      <cat-item tags="vbhaver.ger"/>
    </def-cat>

<def-cat n="havercond">
      <cat-item tags="vbhaver.cni.*"/>
      <cat-item tags="vbhaver.pis.*"/>
    </def-cat>

<def-cat n="haverfti">
      <cat-item tags="vbhaver.fti.*"/>
    </def-cat>

<def-cat n="haverifi">
      <cat-item tags="vbhaver.ifi.*"/>
    </def-cat>

<def-cat n="haverfts">
      <cat-item tags="vbhaver.fts.*"/>
    </def-cat>

<def-cat n="verbpp">
      <cat-item tags="vblex.pp.*"/>
      <cat-item tags="vbmod.pp.*"/>
      <cat-item tags="vbhaver.pp.*"/>
    </def-cat>

<def-cat n="estarpri">
      <cat-item lemma="estar" tags="vbser.pri.*"/>
   </def-cat>
<def-cat n="estarcn_ger">
      <cat-item lemma="estar" tags="vbser.cni.*"/>
      <cat-item lemma="estar" tags="vbser.prs.*"/>
      <cat-item lemma="estar" tags="vbser.pis.*"/>
   </def-cat>

<def-cat n="estar_adj_pp">
      <cat-item lemma="estar" tags="vbser.cni.*"/>
      <cat-item lemma="estar" tags="vbser.pri.*"/>
      <cat-item lemma="estar" tags="vbser.pis.*"/>
      <cat-item lemma="estar" tags="vbser.prs.*"/>
   </def-cat>

<def-cat n="estarinfger_adj_pp">
      <cat-item lemma="estar" tags="vbser.inf"/>
      <cat-item lemma="estar" tags="vbser.ger"/>
   </def-cat>

<def-cat n="estarpas_adj_pp">
      <cat-item lemma="estar" tags="vbser.pii.*"/>
      <cat-item lemma="estar" tags="vbser.ifi.*"/>
   </def-cat>

<def-cat n="estarfut_adj_pp">
      <cat-item lemma="estar" tags="vbser.fti.*"/>
      <cat-item lemma="estar" tags="vbser.fts.*"/>
   </def-cat>

   <def-cat n="haverque">
      <cat-item tags="vbhaver.cni.*"/>
      <cat-item tags="vbhaver.fti.*"/>
      <cat-item tags="vbhaver.ifi.*"/>
      <cat-item tags="vbhaver.imp.*"/>
      <cat-item tags="vbhaver.pii.*"/>
      <cat-item tags="vbhaver.pis.*"/>
      <cat-item tags="vbhaver.pri.*"/>
      <cat-item tags="vbhaver.prs.*"/>
      <cat-item tags="vbhaver.fts.*"/>
   </def-cat>

   <def-cat n="cnjsub">
      <cat-item tags="cnjsub"/>
   </def-cat>

   <def-cat n="verbpers">
      <cat-item tags="vblex.imp.*"/> 
      <cat-item tags="vbser.imp.*"/> 
      <cat-item tags="vbhaver.imp.*"/> 
      <cat-item tags="vbmod.imp.*"/>
      <cat-item tags="vblex.pron.imp.*"/>     
    </def-cat>

<def-cat n="verbpersfut">
      <cat-item tags="vblex.fti.*"/>  
      <cat-item tags="vbser.fti.*"/>     
      <cat-item tags="vbhaver.fti.*"/>    
      <cat-item tags="vbmod.fti.*"/>
      <cat-item tags="vblex.pron.fti.*"/>
   </def-cat>
<def-cat n="verbperspas">
      <cat-item tags="vblex.ifi.*"/>
      <cat-item tags="vblex.pii.*"/>
      <cat-item tags="vblex.pis.*"/> 
      <cat-item tags="vbser.ifi.*"/>
      <cat-item tags="vbser.pii.*"/>
      <cat-item tags="vbser.pis.*"/>
      <cat-item tags="vbhaver.ifi.*"/>
      <cat-item tags="vbhaver.pii.*"/>
      <cat-item tags="vbhaver.pis.*"/>
      <cat-item tags="vbmod.ifi.*"/> 
      <cat-item tags="vbmod.pii.*"/>
      <cat-item tags="vbmod.pis.*"/>
      <cat-item tags="vblex.pron.ifi.*"/>
      <cat-item tags="vblex.pron.pii.*"/>
      <cat-item tags="vblex.pron.pis.*"/>
    </def-cat>
   <def-cat n="verbperspr">
      	<cat-item tags="vblex.cni.*"/>
	<cat-item tags="vblex.pri.*"/>
	<cat-item tags="vblex.prs.*"/>
      	<cat-item tags="vblex.fts.*"/>
      	<cat-item tags="vbser.cni.*"/>
	<cat-item tags="vbser.pri.*"/>
      	<cat-item tags="vbser.prs.*"/>
      	<cat-item tags="vbser.fts.*"/>
      	<cat-item tags="vbhaver.cni.*"/>
	<cat-item tags="vbhaver.pri.*"/>
      	<cat-item tags="vbhaver.prs.*"/>
      	<cat-item tags="vbhaver.fts.*"/>
      	<cat-item tags="vbmod.cni.*"/>
	<cat-item tags="vbmod.pri.*"/>
      	<cat-item tags="vbmod.prs.*"/>
      	<cat-item tags="vbmod.fts.*"/>
      	<cat-item tags="vblex.pron.cni.*"/>
	<cat-item tags="vblex.pron.pri.*"/>
      	<cat-item tags="vblex.pron.prs.*"/>
    </def-cat>
 <def-cat n="verbcuándofut">
      	<cat-item tags="vblex.fti.*"/>
      	<cat-item tags="vbser.fti.*"/>
      	<cat-item tags="vbhaver.fti.*"/>
      	<cat-item tags="vbmod.fti.*"/>
      	<cat-item tags="vblex.fts.*"/>
      	<cat-item tags="vbser.fts.*"/>
      	<cat-item tags="vbhaver.fts.*"/>
      	<cat-item tags="vbmod.fts.*"/>
	<cat-item tags="vblex.pri.*"/>
	<cat-item tags="vbser.pri.*"/>
	<cat-item tags="vbhaver.pri.*"/>
	<cat-item tags="vbmod.pri.*"/>
	<cat-item tags="vblex.pron.pri.*"/>
	<cat-item tags="vblex.prs.*"/>
      	<cat-item tags="vbser.prs.*"/>
      	<cat-item tags="vbhaver.prs.*"/>
      	<cat-item tags="vbmod.prs.*"/>
      	<cat-item tags="vblex.pron.prs.*"/>
      	<cat-item tags="vblex.cni.*"/>
      	<cat-item tags="vbser.cni.*"/>
      	<cat-item tags="vbhaver.cni.*"/>
      	<cat-item tags="vbmod.cni.*"/>
      	<cat-item tags="vblex.pron.cni.*"/>
    </def-cat>
    <def-cat n="auxpers">
      <cat-item tags="vbser.cni.*"/>
      <cat-item tags="vbser.fti.*"/>
      <cat-item tags="vbser.ifi.*"/>
      <cat-item tags="vbser.imp.*"/>
      <cat-item tags="vbser.pii.*"/>
      <cat-item tags="vbser.pis.*"/>
      <cat-item tags="vbser.pri.*"/>
      <cat-item tags="vbser.prs.*"/>
      <cat-item tags="vbhaver.cni.*"/>
      <cat-item tags="vbhaver.fti.*"/>
      <cat-item tags="vbhaver.ifi.*"/>
      <cat-item tags="vbhaver.imp.*"/>
      <cat-item tags="vbhaver.pii.*"/>
      <cat-item tags="vbhaver.pis.*"/>
      <cat-item tags="vbhaver.pri.*"/>
      <cat-item tags="vbhaver.prs.*"/>
    </def-cat>
    <def-cat n="auxinf">
      <!--       <cat-item tags="vbser.inf"/> -->
      <cat-item tags="vbhaver.inf"/>
    </def-cat>
    <def-cat n="pp">
      <cat-item tags="vblex.pp.*"/>
      <cat-item tags="vbser.pp.*"/>
      <cat-item tags="vbmod.pp.*"/>
      <cat-item tags="vbhaver.pp.*"/>
      <!--ATENCIÓ CANVI -->
    </def-cat>
    <def-cat n="inf">
      <cat-item tags="vblex.inf"/>
      <cat-item tags="vblex.pron.inf"/>
      <cat-item tags="vbser.inf"/>
      <cat-item tags="vbhaver.inf"/>
      <cat-item tags="vbmod.inf"/>
    </def-cat>
    <def-cat n="haverqueinf">
      <cat-item tags="vblex.inf"/>
      <cat-item tags="vblex.pron.inf"/>
      <cat-item tags="vbhaver.inf"/>
      <cat-item tags="vbmod.inf"/>
    </def-cat>

    <def-cat n="adv_preadv">
      <cat-item tags="adv"/>
      <cat-item tags="preadv"/>
    </def-cat>
    <def-cat n="adv">
      <cat-item tags="adv"/>
    </def-cat>
    <def-cat n="advitg">
      <cat-item tags="adv.itg"/>
    </def-cat>
    <def-cat n="no">
      <cat-item lemma="no" tags="adv"/>
    </def-cat>

    <def-cat n="estar">
      <cat-item lemma="estar" tags="vbser.*"/>
    </def-cat>
    <def-cat n="cuándo">
      <cat-item lemma="cuándo" tags="adv.itg"/>
    </def-cat>
<def-cat n="haverpas_que">
      <cat-item lemma="haber# que" tags="vbmod.pii.*"/>
      <cat-item lemma="haber# que" tags="vbmod.ifi.*"/>
    </def-cat>

<def-cat n="haverfut_que">
      <cat-item lemma="haber# que" tags="vbmod.fti.*"/>
    </def-cat>

    <def-cat n="haver_que">
      <cat-item lemma="haber# que" tags="vbmod.pri.*"/>
      <cat-item lemma="haber# que" tags="vbmod.cni.*"/>
      <cat-item lemma="haber# que" tags="vbmod.prs.*"/>
      <cat-item lemma="haber# que" tags="vbmod.pis.*"/>
      <cat-item lemma="haber# que" tags="vbmod.fts.*"/>
      <cat-item lemma="hay que" tags="vbmod.*"/>
    </def-cat>
    <def-cat n="haverimp_que">
 <cat-item lemma="haber# que" tags="vbmod.inf"/>
      <cat-item lemma="haber# que" tags="vbmod.ger"/>
      <cat-item lemma="haber# que" tags="vbmod.pp"/>
    </def-cat>
<def-cat n="haver_de">
      	<cat-item lemma="haber# de" tags="vbmod.pri.*"/>
	<cat-item lemma="haber# de" tags="vbmod.cni.*"/>
	<cat-item lemma="haber# de" tags="vbmod.prs.*"/>
     	<cat-item lemma="haber# de" tags="vbmod.pis.*"/>
      	<cat-item lemma="haber# de" tags="vbmod.fts.*"/>
    </def-cat>
<def-cat n="haverfut_de">
      <cat-item lemma="haber# de" tags="vbmod.fti.*"/>
    </def-cat>

<def-cat n="haverpas_de">
      <cat-item lemma="haber# de" tags="vbmod.pii.*"/>
      <cat-item lemma="haber# de" tags="vbmod.ifi.*"/>
    </def-cat>
    <def-cat n="cnjcoo">
      <cat-item lemma="y" tags="cnjcoo"/>
      <cat-item lemma="o" tags="cnjcoo"/>
      <cat-item lemma="pero" tags="cnjcoo"/>
    </def-cat>
    <def-cat n="cnj">
      <cat-item tags="cnjcoo"/>
      <cat-item tags="cnjsub"/>
      <cat-item tags="cnjadv"/>
    </def-cat>
    <def-cat n="por">
      <cat-item lemma="por" tags="pr"/>
    </def-cat>
    <def-cat n="de">
      <cat-item lemma="de" tags="pr"/>
    </def-cat>
    <def-cat n="cada">
      <cat-item lemma="cada" tags="det.ind.mf.sg"/>
    </def-cat>
    <def-cat n="detind_especiales">
      <cat-item lemma="un" tags="det.ind"/>
      <cat-item lemma="cierto" tags="det.ind"/>
      <cat-item lemma="persona" tags="n.f.pl"/>
      <cat-item lemma="alguno" tags="det.ind"/>
    </def-cat>
    <def-cat n="sent">
      <cat-item tags="sent"/>
    </def-cat>
    <def-cat n="coma">
      <cat-item tags="cm"/>
    </def-cat>
    <def-cat n="lquest">
      <cat-item tags="lquest"/>
    </def-cat>
  </section-def-cats>
  <section-def-attrs>
    <def-attr n="a_nom">
      <attr-item tags="n"/>
      <attr-item tags="n.acr"/>
      <attr-item tags="n.unc"/>
      <attr-item tags="np.loc"/>
      <attr-item tags="np.ant"/>
    </def-attr>
    <def-attr n="a_np_acr">
      <attr-item tags="np"/>
      <attr-item tags="acr"/>
    </def-attr>

     <def-attr n="a_adj">
      <attr-item tags="adj"/>
      <attr-item tags="adj.sint"/>
      <attr-item tags="adj.sint.comp"/>
      <attr-item tags="adj.sint.sup"/>
      <attr-item tags="adj.pos"/>
      <attr-item tags="adj.itg"/>
      <attr-item tags="adj.ind"/>
      <attr-item tags="vblex.pp"/>
      <attr-item tags="vbmod.pp"/>
      <attr-item tags="vbhaver.pp"/>
      <attr-item tags="vbser.pp"/>
    </def-attr>
    <def-attr n="a_det">
      <attr-item tags="det.dem"/>
      <attr-item tags="det.ind"/>
      <attr-item tags="det.def"/>
      <attr-item tags="det.pos"/>
      <attr-item tags="det.qnt"/>
      <attr-item tags="det.itg"/>
      <attr-item tags="det.ord"/>
      <attr-item tags="predet"/>
      <attr-item tags="prn"/>
      <attr-item tags="num"/>
    </def-attr>
    <def-attr n="a_num">
      <attr-item tags="num"/>
      <attr-item tags="num.percent"/>
    </def-attr>
    <def-attr n="a_adj__pp">
      <attr-item tags="adj"/>
      <attr-item tags="vblex"/>
      <attr-item tags="vbmod"/>
      <attr-item tags="vbhaver"/>
    </def-attr>

    <def-attr n="a_ger">
      <attr-item tags="vblex"/>
      <attr-item tags="vbser"/>
      <attr-item tags="vbhaver"/>
      <attr-item tags="vbmod"/>
    </def-attr>

    <def-attr n="a_verb">
      <attr-item tags="vblex"/>
      <attr-item tags="vbser"/>
      <attr-item tags="vbhaver"/>
      <attr-item tags="vbmod"/>
      <attr-item tags="vaux"/>
    </def-attr>
    <def-attr n="pron">
      <attr-item tags="pron"/>
    </def-attr>
    <def-attr n="sep">
      <attr-item tags="sep"/>
    </def-attr>
    <def-attr n="a_adv">
      <attr-item tags="adv"/>
      <attr-item tags="preadv"/>
      <attr-item tags="adv.itg"/>
    </def-attr>
    <def-attr n="a_pp">
      <attr-item tags="vblex.pp"/>
      <attr-item tags="vbser.pp"/>
      <attr-item tags="vbmod.pp"/>
      <attr-item tags="vblex.sep.pp"/>
      <attr-item tags="vbser.sep.pp"/>
      <attr-item tags="vbmod.sep.pp"/>
      <attr-item tags="vaux.pp"/>
      <attr-item tags="vbhaver.pp"/>
    </def-attr>
    <def-attr n="a_prn">
      <attr-item tags="prn"/>
    </def-attr>
    <def-attr n="a_rel">
      <attr-item tags="rel"/>
      <attr-item tags="rel.adv"/>
    </def-attr>
    <def-attr n="tipus_prn">
      <attr-item tags="subj"/>
      <attr-item tags="rel"/>
      <attr-item tags="rel.adv"/>
      <attr-item tags="rel.nn"/>
      <attr-item tags="obj"/>
      <attr-item tags="tn"/>
      <attr-item tags="tn.ref"/>
      <attr-item tags="itg"/>
      <attr-item tags="pos"/>
    </def-attr>
    <def-attr n="tipoenc_pro">
      <attr-item tags="ref.p3.mf.sp"/>
      <attr-item tags="p1.mf.pl"/>
      <attr-item tags="p1.mf.sg"/>
      <attr-item tags="p2.mf.pl"/>
      <attr-item tags="p2.mf.sg"/>
      <attr-item tags="p3.f.pl"/>
      <attr-item tags="p3.f.sg"/>
      <attr-item tags="p3.mf.pl"/>
      <attr-item tags="p3.mf.sg"/>
      <attr-item tags="p3.m.pl"/>
      <attr-item tags="p3.m.sg"/>
      <attr-item tags="p3.nt"/>
      <attr-item tags="mf.sg"/>
      <attr-item tags="adv"/>
    </def-attr>
    <def-attr n="pers">
      <attr-item tags="p1"/>
      <attr-item tags="p2"/>
      <attr-item tags="p3"/>
    </def-attr>
    <def-attr n="gen">
      <attr-item tags="m"/>
      <attr-item tags="f"/>
      <attr-item tags="mf"/>
      <attr-item tags="nt"/>
      <attr-item tags="GD"/>
    </def-attr>
    <def-attr n="gen_sense_mf">
      <attr-item tags="m"/>
      <attr-item tags="f"/>
      <attr-item tags="GD"/>
      <attr-item tags="nt"/>
    </def-attr>
    <def-attr n="gen_mf">
      <attr-item tags="mf"/>
    </def-attr>
    <def-attr n="nbr">
      <attr-item tags="sg"/>
      <attr-item tags="pl"/>
      <attr-item tags="sp"/>
      <attr-item tags="ND"/>
    </def-attr>
    <def-attr n="nbr_sense_sp">
      <attr-item tags="sg"/>
      <attr-item tags="pl"/>
      <attr-item tags="ND"/>
    </def-attr>
    <def-attr n="nbr_sp">
      <attr-item tags="sp"/>
    </def-attr>
    <def-attr n="temps">
      <attr-item tags="cni"/>
      <attr-item tags="fts"/>
      <attr-item tags="fti"/>
      <attr-item tags="ifi"/>
      <attr-item tags="imp"/>
      <attr-item tags="pii"/>
      <attr-item tags="pis"/>
      <attr-item tags="pri"/>
      <attr-item tags="prs"/>
      <attr-item tags="pp"/>
      <!-- ? -->
      <attr-item tags="ger"/>
      <!-- ? -->
      <attr-item tags="inf"/>
      <!-- ? -->
    </def-attr>
    <def-attr n="neg">
      <attr-item tags="NEG"/>
    </def-attr>
  </section-def-attrs>
  <section-def-vars>
    <def-var n="nbr_pp"/>
    <def-var n="gen_pp"/>
    <def-var n="etiq_aux"/>
    <def-var n="etiq_det"/>
    <def-var n="concorden"/>
    <def-var n="numero" v="&lt;sg&gt;"/>
    <def-var n="genero" v="&lt;m&gt;"/>
    <def-var n="concDet"/>
    <def-var n="concAdj"/>
    <def-var n="concPrimero"/>
    <def-var n="concSegundo"/>
    <def-var n="concTercero"/>
    <def-var n="interrogativa"/>
    <def-var n="exclamativa"/>
    <def-var n="caseFirstWord"/>
    <def-var n="lema"/>
    <def-var n="EOS" v="true"/>
    <def-var n="paraula1"/>
    <def-var n="SVnegatiu"/>
    <def-var n="auxiliar"/>
    <def-var n="prn_amo"/>
    <def-var n="num_val"/>
    <def-var n="prn_pers"/>
    <def-var n="prn_pers_pro"/>
    <def-var n="prn_pers_verb"/>
  </section-def-vars>



  <section-def-lists>
    <def-list n="nombres_con_posesivo_personal">
      <list-item v="madre"/>
      <list-item v="padre"/>
      <list-item v="hermano"/>
      <list-item v="primo"/>
      <list-item v="tío"/>
      <list-item v="sobrino"/>
      <list-item v="abuelo"/>
      <list-item v="amigo"/>
      <list-item v="novio"/>
      <list-item v="marido"/>
      <list-item v="profesor"/>
      <list-item v="alumno"/>
      <list-item v="mamá"/>
      <list-item v="papá"/>
      <list-item v="hijo"/>
      <list-item v="bisabuelo"/>
      <list-item v="bisnieto"/>
      <list-item v="esposo"/>
      <list-item v="mujer"/>
      <list-item v="cuñado"/>
      <list-item v="yerno"/>
      <list-item v="nuera"/>
      <list-item v="suegro"/>
      <list-item v="edad"/>
      <list-item v="pesar"/>
      <list-item v="medir"/>
      <list-item v="altura"/>
      <list-item v="cerebro"/>
      <list-item v="cara"/>
      <list-item v="ojo"/>
      <list-item v="nariz"/>
      <list-item v="boca"/>
      <list-item v="oído"/>
      <list-item v="oreja"/>
      <list-item v="labio"/>
      <list-item v="mejilla"/>
      <list-item v="pestaña"/>
      <list-item v="ceja"/>
      <list-item v="bigote"/>
      <list-item v="pelo"/>
      <list-item v="frente"/>
      <list-item v="mandíbula"/>
      <list-item v="dientes"/>
      <list-item v="garganta"/>
      <list-item v="cuello"/>
      <list-item v="nuca"/>
      <list-item v="pupilas"/>
      <list-item v="columna vertebral"/>
      <list-item v="axila"/>
      <list-item v="brazo"/>
      <list-item v="muñeca"/>
      <list-item v="cintura"/>
      <list-item v="codo"/>
      <list-item v="hombro"/>
      <list-item v="pulmón"/>
      <list-item v="corazón"/>
      <list-item v="pecho"/>
      <list-item v="pechos"/>
      <list-item v="estómago"/>
      <list-item v="riñón"/>
      <list-item v="ovario"/>
      <list-item v="testículo"/>
      <list-item v="pierna"/>
      <list-item v="cadera"/>
      <list-item v="muslo"/>
      <list-item v="rodilla"/>
      <list-item v="pie"/>
      <list-item v="tobillo"/>
      <list-item v="espalda"/>
      <list-item v="culo"/>
      <list-item v="gluteos"/>
    </def-list>




    <def-list n="lista_animados">
      <list-item v="madre"/>
      <list-item v="padre"/>
      <list-item v="hermano"/>
      <list-item v="primo"/>
      <list-item v="tío"/>
      <list-item v="sobrino"/>
      <list-item v="abuelo"/>
      <list-item v="amigo"/>
      <list-item v="novio"/>
      <list-item v="marido"/>
      <list-item v="profesor"/>
      <list-item v="alumno"/>
      <list-item v="mamá"/>
      <list-item v="papá"/>
      <list-item v="hijo"/>
      <list-item v="bisabuelo"/>
      <list-item v="bisnieto"/>
      <list-item v="esposo"/>
      <list-item v="mujer"/>
      <list-item v="cuñado"/>
      <list-item v="yerno"/>
      <list-item v="nuera"/>
      <list-item v="suegro"/>
      <list-item v="elefante"/>
    </def-list>




    <def-list n="nombres_normalmente_contables">
      <list-item v="kilo"/>
      <list-item v="kilogramo"/>
      <list-item v="gramo"/>
      <list-item v="tonelada"/>
      <list-item v="litro"/>
      <list-item v="centilitro"/>
      <list-item v="hectómetro"/>
      <list-item v="decámetro"/>
      <list-item v="onza"/>
      <list-item v="palmo"/>
      <list-item v="metro"/>
      <list-item v="centímetro"/>
      <list-item v="kilómetro"/>
      <list-item v="hora"/>
      <list-item v="minuto"/>
      <list-item v="segundo"/>
      <list-item v="día"/>
      <list-item v="año"/>
    </def-list>



    <def-list n="nombres_numeral_incorporado">
      <list-item v="semana"/>
      <list-item v="mes"/>
      <list-item v="hora"/>
      <list-item v="año"/>
    </def-list>



    <def-list n="determinantes_numeral_incorporado">
      <list-item v="el"/>
      <list-item v="este"/>
      <list-item v="ese"/>
      <list-item v="aquel"/>
    </def-list>



    <def-list n="numeros_dos_al_diez">
      <list-item v="2"/>
      <list-item v="3"/>
      <list-item v="4"/>
      <list-item v="5"/>
      <list-item v="6"/>
      <list-item v="7"/>
      <list-item v="8"/>
      <list-item v="9"/>
      <list-item v="10"/>
    </def-list>



    <def-list n="menor_igual_diez">
      <list-item v="0"/>
      <list-item v="1"/>
      <list-item v="2"/>
      <list-item v="3"/>
      <list-item v="4"/>
      <list-item v="5"/>
      <list-item v="6"/>
      <list-item v="7"/>
      <list-item v="8"/>
      <list-item v="9"/>
      <list-item v="10"/>
    </def-list>

   <def-list n="verbosqueflexionan">
      <list-item v="ahsòmimuho:eumamucb"/>
      <list-item v="ch.aëmàmadahb"/>
      <list-item v="emegroper"/>
      <list-item v="z.omamuldo"/>
      <list-item v="s:tm.émamupeb"/>
      <list-item v="aëmadohel"/>
      <list-item v="ahsòmémuho:ômàmucb"/>
      <list-item v="sho:ömemajle"/>
      <list-item v="jeimamuwe"/>
      <list-item v="chémawe"/>
      <list-item v="ch.òãmamuldre"/>
      <list-item v="ym.aëmawe"/>
      <list-item v="s:sch.oämemaleb"/>
      <list-item v="v.ôpob ahsòmémuho:ômàmucb"/>
      <list-item v="zeumowe"/>
      <list-item v="zomagre"/>
      <list-item v="ëamacea"/>
      <list-item v="ömadohe-i"/>
      <list-item v="òmadohe"/>
      <list-item v="ömadohe"/>
      <list-item v="ahsòmémuho:ômamucb"/>
      <list-item v="y.aëmac"/>
      <list-item v="semaho:òamezpfahhob"/>
      <list-item v="shol:eumawe"/>
      <list-item v="ohsòmimuca:ömamawe"/>
      <list-item v="s:omemaldic-we"/>
      <list-item v="s:ñmaëmimadahelb"/>
      <list-item v="st.aëmewe"/>
      <list-item v="sho:v.oämemaleb"/>
      <list-item v="s:òamemacea"/>
      <list-item v="emimuwe"/>
      <list-item v="emadohe"/>
      <list-item v="s:aëmadohe"/>
      <list-item v="ohsòmimuca:aeimewraiheb"/>
      <list-item v="s:õamàmafahe"/>
      <list-item v="ihsòmimuha:emec"/>
      <list-item v="s:aeimedaho"/>
      <list-item v="s:emamucuyll"/>
      <list-item v="omemuls"/>
      <list-item v="omemulu svr:ömàmuc"/>
      <list-item v="abéímamuwui"/>
    </def-list>




  </section-def-lists>



  <section-def-macros>
    <def-macro n="choose_num" npar="1">
      <let>
        <var n="num_val"/>
        <lit v=""/>
      </let>
      <choose>
        <when>
          <test>
            <in caseless="no">
              <clip pos="1" side="tl" part="lem"/>
              <list n="numeros_dos_al_diez"/>
            </in>
          </test>
          <append n="num_val">
            <lit v="&lt;"/>
            <lit v="num"/>
            <clip pos="1" side="tl" part="lem"/>
            <lit v="&gt;"/>
          </append>
        </when>
      </choose>
    </def-macro>


    <def-macro n="choose_prn" npar="1">
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="sl" part="lem"/>
              <lit v="mío"/>
            </equal>
          </test>
          <let>
            <var n="prn_amo"/>
            <concat>
              <lit v="ye"/>
              <lit-tag v="prn"/>
            </concat>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="sl" part="lem"/>
              <lit v="tuyo"/>
            </equal>
          </test>
          <let>
            <var n="prn_amo"/>
            <concat>
              <lit v="ele"/>
              <lit-tag v="prn"/>
            </concat>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="sl" part="lem"/>
              <lit v="suyo"/>
            </equal>
          </test>
          <let>
            <var n="prn_amo"/>
            <concat>
              <lit v="eyle"/>
              <lit-tag v="prn"/>
            </concat>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="sl" part="lem"/>
              <lit v="nuestro"/>
            </equal>
          </test>
          <let>
            <var n="prn_amo"/>
            <concat>
              <lit v="olemumawraho"/>
              <lit-tag v="prn"/>
            </concat>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="sl" part="lem"/>
              <lit v="vuestro"/>
            </equal>
          </test>
          <let>
            <var n="prn_amo"/>
            <concat>
              <lit v="elememuwraho"/>
              <lit-tag v="prn"/>
            </concat>
          </let>
        </when>
      </choose>
    </def-macro>



 <def-macro n="choose_prn2" npar="1">
      <choose>
        <when>
          <test>
         <and>
            <equal>
              <clip pos="1" side="sl" part="pers"/>
              <lit-tag v="p1"/>
            </equal>
            <equal>
              <clip pos="1" side="sl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
         </and>
          </test>
          <let>
            <var n="prn_pers"/>
            <concat>
              <lit v="ye"/>
              <lit-tag v="prn"/>
            </concat>
          </let> 
        </when>
      </choose>
      <choose>
        <when>
          <test>  
           <and>
            <equal>
              <clip pos="1" side="sl" part="pers"/>
              <lit-tag v="p2"/>
            </equal>
            <equal>
              <clip pos="1" side="sl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
         </and>
          </test>
          <let>
            <var n="prn_pers"/>
            <concat>
              <lit v="ele"/>
              <lit-tag v="prn"/>
            </concat>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
           <and>
            <equal>
              <clip pos="1" side="sl" part="pers"/>
              <lit-tag v="p3"/>
            </equal>
            <equal>
              <clip pos="1" side="sl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
         </and>
          </test>
          <let>
            <var n="prn_pers"/>
            <concat>
              <get-case-from pos="1">
              <lit v="eyle"/>
              </get-case-from>
              <lit-tag v="prn"/>
            </concat>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <and>
            <equal>
              <clip pos="1" side="sl" part="pers"/>
              <lit-tag v="p1"/>
            </equal>
            <equal>
              <clip pos="1" side="sl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
         </and>
          </test>
          <let>
            <var n="prn_pers"/>
            <concat>
              <lit v="olemumawraho"/>
              <lit-tag v="prn"/>
            </concat>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <and>
            <equal>
              <clip pos="1" side="sl" part="pers"/>
              <lit-tag v="p2"/>
            </equal>
            <equal>
              <clip pos="1" side="sl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
         </and>
          </test>
          <let>
            <var n="prn_pers"/>
            <concat>
              <lit v="elememuwraho"/>
              <lit-tag v="prn"/>
            </concat>
          </let>
        </when>
      </choose>
<choose>
        <when>
          <test>
            <and>
            <equal>
              <clip pos="1" side="sl" part="pers"/>
              <lit-tag v="p3"/>
            </equal>
            <equal>
              <clip pos="1" side="sl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
         </and>
          </test>
          <let>
            <var n="prn_pers"/>
            <concat>
              <lit v="eyledahb"/>
              <lit-tag v="prn"/>
            </concat>
          </let>
        </when>
      </choose>
     <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="sl" part="a_prn"/>
              <lit-tag v="prn"/>
            </equal>
          </test>
          <let>
            <var n="prn_pers_pro"/>
            <var n="prn_pers"/>
          </let>
        </when>
       <otherwise>
            <let>
            <var n="prn_pers_verb"/>
            <var n="prn_pers"/>
          </let>
      </otherwise>
      </choose>
    </def-macro>


    <def-macro n="firstWord" npar="1">
      <!--versió 8-febr-08 -->
      <choose>
        <when>
          <test>
            <equal>
              <var n="EOS"/>
              <lit v="true"/>
            </equal>
          </test>
          <choose>
            <when>
              <test>
                <equal>
                  <clip pos="1" side="sl" part="a_np_acr"/>
                  <lit v=""/>
                </equal>
              </test>
              <modify-case>
                <clip pos="1" side="tl" part="lem"/>
                <lit v="aa"/>
              </modify-case>
            </when>
          </choose>
          <let>
            <var n="caseFirstWord"/>
            <lit v="Aa"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="caseFirstWord"/>
            <lit v="aa"/>
          </let>
        </otherwise>
      </choose>
      <!--	</when>
	<otherwise>
	  <let>
	    <var n="caseFirstWord"/>
	    <lit v="aa"/>
	  </let>
	</otherwise>
      </choose>-->
      <let>
        <var n="EOS"/>
        <lit v="false"/>
      </let>
    </def-macro>

 <def-macro n="caseNP" npar="1">
      <!--versió 8-febr-08 -->
      <choose>
        <when>
          <test>
            <equal>
              <var n="EOS"/>
              <lit v="true"/>
            </equal>
          </test>
          <choose>
            <when>
              <test>
                <equal>
                  <clip pos="1" side="sl" part="a_np_acr"/>
                  <lit v=""/>
                </equal>
              </test>
              <modify-case>
                <clip pos="1" side="tl" part="lem"/>
                <lit v="AA"/>
              </modify-case>
            </when>
          </choose>
          <let>
            <var n="caseFirstWord"/>
            <lit v="AA"/>
          </let>
        </when>
       </choose>
      <let>
        <var n="EOS"/>
        <lit v="false"/>
      </let>
    </def-macro>


    <def-macro n="f_bcond" npar="2">
      <!--Per mirar si el blanc conté o no format. Cal posar aquesta funció en les regles en què desaparegui alguna paraula, per tal de decidir si el blanc de la paraula eliminada s'ha d'eliminar o conservar. Si conté format cal conservar-la, si no en conté cal eliminar-la perquè no apareguin dos espais seguits. -->
      <choose>
        <when>
          <test>
            <not>
              <equal>
                <b pos="1"/>
                <lit v=" "/>
              </equal>
            </not>
          </test>
          <out>
            <b pos="1"/>
          </out>
        </when>
      </choose>
    </def-macro>
  </section-def-macros>
  <section-rules>
    <!--*************************************** REGLES DE SN ******************************************** -->
    <rule comment="REGLA: NOM
	ejemplo: coche : sl:ömàmawuib
	ejemplo: coches : sl:ömàmawuib
		">
      <pattern>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="nom" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_nom"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>




    <rule comment="REGLA: ADJECTIU
           ejemplo: bonito: Chòãzlde-ch.ômic
           ejemplo: bonitos: Chòãzlde-ch.ômic
                               ">
      <pattern>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="adj" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SA"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_adj"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="ADV
              ejemplo: ayer:Hm.õamamacoac
                                    ">
      <pattern>
        <pattern-item n="adv_preadv"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="adv" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="ADV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="a_adv"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="REGLA: DET NOM 
           Det.pos+Nom.pos.per, ejemplo: mi madre: ye vmòma-vn
                                ejemplo: mis hermanos: ye s:ememucb
           det.pos+nom: ejemplo: mi coche: sl:ömàmawuib y.òamicb
                                 mis coches: sl:ömàmawuib y.òamicb
           det.dem+nom: ejemplo: este coche: sl:ömàmawuib olepui
                        ejemplo: estos coches: sl:ömàmawuib olemefohob
                        ejemplo: ese coches: sl:ömàmawuib eylep
                        ejemplo: esos coches: sl:ömàmawuib eylefohob
                        ejemplo: aquel coche: sl:ömàmawuib aeylep
                        ejemplo: aquellos coches: sl:ömàmawuib aeylefohob
           det.ind+nom: ejemplo: un/unos elefantes: zõmamucreawu  
           det.def+nom: ejemplo: el/los elefantes: zõmamucreawu 
           este+nom.normalmente cuantificable o nom.num.incorp: ejemplo: este/estos kilómetro(s): olKmapib olepui
                                                                ejemplo: esta semana(s): ilamamuwy olepui
                                                                ejemplo: estas semanas: ilamamuwyb olepui
           ese/aquel+nom.normalmente cuantificable o nom.num.incorp: ejemplo: ese/esos kilómetro(s): olKmapib v.òmacb
                                                                     ejemplo: aquel/aquellos kilómetro(s): olKmapib v.òmacb
                                                                     ejemplo: esa semana: ilamamuwy v.òmacb
                                                                     ejemplo: esas semanas: ilamamuwyb v.òmacb
                                                                     ejemplo: aquella semana: ilamamuwy v.òmacb
                                                                     ejemplo: aquellas semanas: ilamamuwyb v.òmacb
           sendos amigos, ambos amigos: sõmémuca:õjpo 2mamadohb

                                                                                        ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <choose>
          <when>
            <test>
             <or>
                <equal>
                  <clip pos="1" side="sl" part="lem"/>
                  <lit v="sendos"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="lem"/>
                  <lit v="ambos"/>
                </equal>
             </or>
            </test>
            <out>
              <chunk name="sendos/ambos" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_nom"/>
                  <clip pos="2" side="tl" part="nbr"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <lit v="2mamadohb"/>
                  <clip pos="1" side="tl" part="a_det"/>
                  <lit-tag v="pl"/>
                </lu>
              </chunk>
            </out>
          </when>
       <otherwise>
        <choose>
          <when>
            <test>
              <and>
                <equal>
                  <clip pos="1" side="sl" part="a_det"/>
                  <lit-tag v="det.pos"/>
                </equal>
                <in caseless="yes">
                  <clip pos="2" side="sl" part="lem"/>
                  <list n="nombres_con_posesivo_personal"/>
                </in>
              </and>
            </test>
            <call-macro n="choose_prn">
              <with-param pos="1"/>
            </call-macro>
            <out>
              <chunk name="prn_nom" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <var n="prn_amo"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_nom"/>
                  <clip pos="2" side="tl" part="nbr"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>           
                   <choose>
                    <when>
                     <test>
                      <and>
                       <equal>
                         <clip pos="1" side="sl" part="lem"/>
                         <lit v="este"/>
                       </equal>
                        <or>
                         <in caseless="yes">
                          <clip pos="2" side="sl" part="lem"/>
                          <list n="nombres_normalmente_contables"/>
                         </in>
                          <in caseless="yes">
                          <clip pos="2" side="sl" part="lem"/>
                          <list n="nombres_numeral_incorporado"/>
                         </in>
                        </or>
                      </and>
                     </test>
                     <out>
                      <chunk name="nom_olepui" case="caseFirstWord">
                       <tags>
                        <tag>
                        <lit-tag v="SN"/>
                        </tag>
                       </tags>
                        <lu>
                         <clip pos="2" side="tl" part="lemh"/>
                         <clip pos="2" side="tl" part="a_nom"/>
                         <clip pos="2" side="tl" part="nbr"/>
                         <clip pos="2" side="tl" part="lemq"/>
                        </lu>
                        <b pos="1"/>
                        <lu>
                         <lit v="olepui"/>
                         <clip pos="1" side="tl" part="a_det"/>
                         <lit-tag v="sg"/>
                        </lu>
                      </chunk>
                     </out>
                    </when>
                     <otherwise>
                      <choose>
                       <when>
                        <test>
                         <and>
                          <or>
                           <equal>
                            <clip pos="1" side="sl" part="lem"/>
                            <lit v="ese"/>
                           </equal>
                           <equal>
                            <clip pos="1" side="sl" part="lem"/>
                            <lit v="aquel"/>
                           </equal>
                          </or>
                          <or>
                           <in caseless="yes">
                            <clip pos="2" side="sl" part="lem"/>
                            <list n="nombres_normalmente_contables"/>
                           </in>
                            <in caseless="yes">
                            <clip pos="2" side="sl" part="lem"/>
                            <list n="nombres_numeral_incorporado"/>
                           </in>
                          </or>
                         </and>
                        </test>
                         <out>
                          <chunk name="nom_vm.òmacb" case="caseFirstWord">
                           <tags>
                            <tag>
                            <lit-tag v="SN"/>
                            </tag>
                           </tags>
                           <lu>
                             <clip pos="2" side="tl" part="lemh"/>
                             <clip pos="2" side="tl" part="a_nom"/>
                             <clip pos="2" side="tl" part="nbr"/>
                             <clip pos="2" side="tl" part="lemq"/>
                           </lu>
                           <b pos="1"/>
                           <lu>
                             <lit v="vm.òmacb"/>
                             <lit-tag v="rel"/>
                           </lu>
                          </chunk>
                         </out>
                       </when>
                      <otherwise>
                 <choose>
              <when>
                <test>
                  <or>
                    <equal>
                      <clip pos="1" side="sl" part="a_det"/>
                      <lit-tag v="det.dem"/>
                    </equal>
                    <equal>
                      <clip pos="1" side="sl" part="a_det"/>
                      <lit-tag v="det.pos"/>
                    </equal>
                  </or>
                </test>
                <out>
                  <chunk name="nom_det" case="caseFirstWord">
                    <tags>
                      <tag>
                        <lit-tag v="SN"/>
                      </tag>
                    </tags>
                    <lu>
                      <clip pos="2" side="tl" part="lemh"/>
                      <clip pos="2" side="tl" part="a_nom"/>
                      <clip pos="2" side="tl" part="nbr"/>
                      <clip pos="2" side="tl" part="lemq"/>
                    </lu>
                    <b pos="1"/>
                    <lu>
                      <clip pos="1" side="tl" part="lem"/>
                      <clip pos="1" side="tl" part="a_det"/>
                      <clip pos="1" side="tl" part="nbr"/>
                    </lu>
                  </chunk>
                </out>
              </when>
                  <otherwise>
                         <out>
                          <chunk name="nom" case="caseFirstWord">
                           <tags>
                             <tag>
                              <lit-tag v="SN"/>
                              </tag>
                           </tags>
                            <lu>
                              <clip pos="2" side="tl" part="lemh"/>
                              <clip pos="2" side="tl" part="a_nom"/>
                              <clip pos="2" side="tl" part="nbr"/>
                              <clip pos="2" side="tl" part="lemq"/>
                            </lu>
                          </chunk>
                         </out>
                        </otherwise>
                      </choose>
                        </otherwise>
                      </choose>
                     </otherwise>
                   </choose>
                  </otherwise>
            </choose>
          </otherwise>
        </choose>
      </action>
    </rule>




    <rule comment="REGLA: DET NOM POS:  
          debería hacer esto:
              ejemplo: el amigo mío: ye sõmémuca:õjpo 
              ejemplo: los amigos míos: ye sõmémuca:õjpo 
              ejemplo: el coche mío: sl:ömàmawuib y.òamicb  
              ejemplo: los coches míos: sl:ömàmawuib y.òamicb 
              ejemplo: un amigo mío: ye sõmémuca:õjpo 
              ejemplo: unos amigos míos: ye sõmémuca:õjpo 
              ejemplo: un coche mío: sl:ömàmawuib y.òamicb  
              ejemplo: unos coches míos: sl:ömàmawuib y.òamicb 
              ejemplo: ese amigo mío: ye sõmémuca:õjpo eylep  
              ejemplo: esos amigos míos: ye sõmémuca:õjpo eylefohob  
              ejemplo: ese coche mío: sl:ömàmawuib sl:ömàmawuib y.òamicb
              ejemplo: esos coches míos:  sl:ömàmawuib eylefohob y.òamicb
              ejemplo: este amigo mío: Ye sõmémuca:õjpo olepui   
              ejemplo: estos amigos míos: Ye sõmémuca:õjpo olemefohob  
              ejemplo: este coche mío: Sl:ömàmawuib sl:ömàmawuib y.òamicb 
              ejemplo: estos coches míos: Sl:ömàmawuib olemefohob y.òamicb 
              ejemplo: aquel amigo mío: Ye sõmémuca:õjpo aeylep 
              ejemplo: aquellos amigos míos: Ye sõmémuca:õjpo aeylefohob  
              ejemplo: aquel coche mío: Sl:ömàmawuib aeylep y.òamicb 
              ejemplo: aquellos coches míos: Sl:ömàmawuib aeylefohob y.òamicb 
                                                                                 ">  
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjpos"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <choose>
          <when>
            <test>
            <and>
             <or>
                    <equal>
                      <clip pos="1" side="sl" part="a_det"/>
                      <lit-tag v="det.def"/>
                    </equal>
                    <equal>
                      <clip pos="1" side="sl" part="a_det"/>
                      <lit-tag v="det.ind"/>
                    </equal>
             </or>
              <in caseless="yes">
                <clip pos="2" side="sl" part="lem"/>
                <list n="nombres_con_posesivo_personal"/>
              </in>
            </and>
            </test>
            <call-macro n="choose_prn">
              <with-param pos="3"/>
            </call-macro>
            <out>
              <chunk name="pos_nom" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <var n="prn_amo"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_nom"/>
                  <clip pos="2" side="tl" part="nbr"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
          <choose>
           <when>
            <test>
             <or>
                    <equal>
                      <clip pos="1" side="sl" part="a_det"/>
                      <lit-tag v="det.def"/>
                    </equal>
                    <equal>
                      <clip pos="1" side="sl" part="a_det"/>
                      <lit-tag v="det.ind"/>
                    </equal>
             </or>
            </test>
            <out>
              <chunk name="nom_adj" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_nom"/>
                  <clip pos="2" side="tl" part="nbr"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="3" side="tl" part="lem"/>
                  <clip pos="3" side="tl" part="a_adj"/>
                  <clip pos="3" side="tl" part="nbr"/>
                </lu>
              </chunk>
            </out>
           </when>
          <otherwise>
        <choose>
           <when>
            <test>  
            <and>
	       <equal>
                      <clip pos="1" side="sl" part="a_det"/>
                      <lit-tag v="det.dem"/>
              </equal>

              <in caseless="yes">
                <clip pos="2" side="sl" part="lem"/>
                <list n="nombres_con_posesivo_personal"/>
              </in>
            </and>
            </test>
            <call-macro n="choose_prn">
              <with-param pos="3"/>
            </call-macro>
             <out>
              <chunk name="ye_nom_det" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <var n="prn_amo"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_nom"/>
                  <clip pos="2" side="tl" part="nbr"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="1" side="tl" part="lem"/>
                  <clip pos="1" side="tl" part="a_det"/>
                  <clip pos="1" side="tl" part="nbr"/>
                </lu>
              </chunk>
            </out>
            </when>
           <otherwise>
            <out>
              <chunk name="nom_det_adj" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_nom"/>
                  <clip pos="2" side="tl" part="nbr"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="1" side="tl" part="lem"/>
                  <clip pos="1" side="tl" part="a_det"/>
                  <clip pos="1" side="tl" part="nbr"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="3" side="tl" part="lem"/>
                  <clip pos="3" side="tl" part="a_adj"/>
                  <clip pos="3" side="tl" part="nbr"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
        </otherwise>
        </choose>
        </otherwise>
        </choose>
      </action>
    </rule>


    <rule comment="REGLA: DET NUM: 
                 ejemplo: el cinco: 5
                          un cinco: 5
                          ese/aquel cinco: 5 vm.òmacb
                          esos/estos/aquellos 5: eyl5mémadohb / 5memadohb / aeyl5mémadohb
                          los cinco: 5memadohb
                          este cinco: 5 olepui
                          mi(s) cinco: 5 y.òamicb
                          unos cinco: 5 s:omejghre
                          unos 15: 15 s:omejghre
                          los 20: 20
                          esos/estos/aquellos 20: 20 eylefohob / 20 olemefohob / 20 aeylefohob
                          mis 20: 20 y.òamicb
                                                         ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="num"/>
      </pattern>
     <action>
      <choose>
       <when>
        <test>
         <or>
          <and>
          <equal>
           <clip pos="1" side="sl" part="a_det"/>
           <lit-tag v="det.def"/>
          </equal>
          <equal>
           <clip pos="1" side="sl" part="nbr"/>
           <lit-tag v="sg"/>
          </equal>
          </and>
          <and>
          <equal>
           <clip pos="1" side="sl" part="a_det"/>
           <lit-tag v="det.ind"/>
          </equal>
          <equal>
           <clip pos="1" side="sl" part="nbr"/>
           <lit-tag v="sg"/>
          </equal>
          </and>
         </or>
        </test>
         <out>
          <chunk name="num" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lem"/>
                  <clip pos="2" side="tl" part="a_num"/>
                </lu>
          </chunk>
         </out>
       </when>
        <otherwise>
         <choose>
          <when>
           <test>
            <or>
             <and>
              <equal>
               <clip pos="1" side="sl" part="lem"/>
               <lit v="ese"/>
              </equal>
              <equal>
               <clip pos="1" side="sl" part="nbr"/>
               <lit-tag v="sg"/>
              </equal>
              </and>
              <and>
              <equal>
               <clip pos="1" side="sl" part="lem"/>
               <lit v="aquel"/>
              </equal>
              <equal>
               <clip pos="1" side="sl" part="nbr"/>
               <lit-tag v="sg"/>
              </equal>
             </and>
            </or>
           </test>
            <out>
          <chunk name="num_vm.òmacb" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lem"/>
                  <clip pos="2" side="tl" part="a_num"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <lit v="vm.òmacb"/>
                  <lit-tag v="rel"/>
                </lu>
          </chunk>
            </out>
          </when>
           <otherwise>
            <choose>
             <when>
              <test>
               <and>
               <equal>
                <clip pos="1" side="sl" part="lem"/>
                <lit v="este"/>
               </equal>
               <equal>
                <clip pos="1" side="sl" part="nbr"/>
                <lit-tag v="sg"/>
               </equal>
               </and>
              </test>
               <out>
                <chunk name="num_olepui" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lem"/>
                  <clip pos="2" side="tl" part="a_num"/>
                </lu>
                <b pos="1"/>
                <lu>
                   <lit v="olepui"/>
                   <clip pos="1" side="tl" part="a_det"/>
                   <lit-tag v="sg"/>
                </lu>
               </chunk>
              </out>
             </when>
              <otherwise>
               <choose>
                <when>
                 <test>
                  <and>
                   <equal>
                    <clip pos="1" side="sl" part="a_det"/>
                    <lit-tag v="det.ind"/>
                   </equal>
                   <equal>
                    <clip pos="1" side="sl" part="nbr"/>
                    <lit-tag v="pl"/>
                   </equal>
                  </and>
                 </test>
                  <out>
                   <chunk name="num_s:omejghre" case="caseFirstWord">
                    <tags>
                    <tag>
                     <lit-tag v="SN"/>
                    </tag>
                    </tags>
                    <lu>
                     <clip pos="2" side="tl" part="lem"/>
                     <clip pos="2" side="tl" part="a_num"/>
                    </lu>
                    <b pos="1"/>
                    <lu>
                     <lit v="s:omejghre"/>
                     <lit-tag v="pr"/>
                    </lu>
                   </chunk>
                  </out>
                </when>
                 <otherwise>
                  <choose>
                   <when>
                    <test>
                     <equal>
                      <clip pos="1" side="sl" part="a_det"/>
                      <lit-tag v="det.pos"/>
                     </equal>
                    </test>
                     <out>
                     <chunk name="num_pos" case="caseFirstWord">
                     <tags>
                      <tag>
                      <lit-tag v="SN"/>
                      </tag>
                     </tags>
                     <lu>
                      <clip pos="2" side="tl" part="lem"/>
                      <clip pos="2" side="tl" part="a_num"/>
                     </lu>
                     <b pos="1"/>
                     <lu>
                      <clip pos="1" side="tl" part="lem"/>
                      <clip pos="1" side="tl" part="a_det"/>
                      <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                     </chunk>
                     </out>
                   </when>
                    <otherwise>
                      <choose>
                       <when>
                        <test>
                         <and>
                          <equal>
                           <clip pos="1" side="sl" part="a_det"/>
                           <lit-tag v="det.dem"/>
                          </equal>
                          <in caseless="yes">
                           <clip pos="2" side="tl" part="lem"/>
                           <list n="numeros_dos_al_diez"/>
                          </in>
                         </and>
                        </test>
                         <call-macro n="choose_num">
                         <with-param pos="2"/>
                         </call-macro>
                          <out>
                           <chunk name="det.num" case="caseFirstWord">
                           <tags>
                            <tag>
                            <lit-tag v="SN"/>
                            </tag>
                           </tags>
                           <lu>
                            <clip pos="1" side="tl" part="lem"/>
                            <clip pos="1" side="tl" part="a_det"/>
                            <clip pos="1" side="tl" part="nbr"/>
                            <var n="num_val"/>
                           </lu>
                           </chunk>
                          </out>
                       </when>
                        <otherwise>
                         <choose>
                          <when>
                           <test>
                            <and>
                            <equal>
                             <clip pos="1" side="sl" part="a_det"/>
                             <lit-tag v="det.def"/>
                            </equal>
                            <equal>
                             <clip pos="1" side="sl" part="nbr"/>
                             <lit-tag v="pl"/>
                            </equal>
                           <in caseless="yes">
                           <clip pos="2" side="tl" part="lem"/>
                           <list n="numeros_dos_al_diez"/>
                          </in>
                           </and>
                           </test>
                         <call-macro n="choose_num">
                         <with-param pos="2"/>
                         </call-macro>
                            <out>
                            <chunk name="det.num(los)" case="caseFirstWord">
                           <tags>
                            <tag>
                            <lit-tag v="SN"/>
                            </tag>
                           </tags>
                           <lu>
                            <lit v="2memadohb"/>
                            <lit-tag v="det.def.pl"/>
                            <var n="num_val"/>
                           </lu>
                           </chunk>
                          </out>
                          </when>
                           <otherwise>
                            <choose>
                             <when>
                              <test>
                  <and>
                   <equal>
                    <clip pos="1" side="sl" part="a_det"/>
                    <lit-tag v="det.def"/>
                   </equal>
                   <equal>
                    <clip pos="1" side="sl" part="nbr"/>
                    <lit-tag v="pl"/>
                   </equal>
                  </and>
                              </test>
                          <out>
                            <chunk name="num" case="caseFirstWord">
                           <tags>
                            <tag>
                            <lit-tag v="SN"/>
                            </tag>
                           </tags>
                           <lu>
                             <clip pos="2" side="tl" part="lem"/>
                             <clip pos="2" side="tl" part="a_num"/>
                           </lu>
                           </chunk>
                          </out>
                             </when>
                           <otherwise>
                            <out>
                           <chunk name="num det" case="caseFirstWord">
                           <tags>
                            <tag>
                            <lit-tag v="SN"/>
                            </tag>
                           </tags>
                     <lu>
                      <clip pos="2" side="tl" part="lem"/>
                      <clip pos="2" side="tl" part="a_num"/>
                     </lu>
                     <b pos="1"/>
                     <lu>
                      <clip pos="1" side="tl" part="lem"/>
                      <clip pos="1" side="tl" part="a_det"/>
                      <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                           </chunk>
                            </out>
                           </otherwise>
                           </choose>
                          </otherwise>
                         </choose>
                        </otherwise>
                      </choose>
                    </otherwise>
                  </choose>
                 </otherwise>
               </choose>
              </otherwise>
            </choose>
           </otherwise>
         </choose>
        </otherwise>
      </choose>
     </action>
    </rule>


    <rule comment="REGLA: PRN PREP.DE DET NUM NOM:
                  prn+de+dem+num(2-10)+nom; ejemplo: algunos de esos/estos/aquellos tres elefantes: zõmamucreawu eyl3mémadohb/3memadohb/aeyl3mémadohb oämamals
                  prn+de+dem+num(+=10)+nom; ejemplo: algunos de esos/estos/aquellos 15 elefantes: zõmamucreawu eylefohob/olemefohob/aeylefohob 15 oämamals
                  prn+de+pos+num+nom; ejemplo: algunos de mis 3/15 elefantes: zõmamucreawu y.òamicb 3/15 oämamals
                  prn+de+pos+num+nom.pos.per; ejemplo: algunos de mis 3/15 hermanos: ye s:ememucb 3/15 oämamals
                  prn+de+def+num+nom; ejemplo: algunos de los 3/15 elefantes: zõmamucreawu 3/15 oämamals
                  algunos de esos/aquellos ocho/15 km: 8/15 Kmapib vm.òmacb oämamals
                  algunos de estos ocho km: 8 Kmapib olepui oämamals
                  algunas de esas/aquellas ocho semanas: s5miha:3mijwy vm.òmacb oämamals
                  algunas de estas ocho semanas: s5miha:3mijwy olepui oämamals
                  algunas de estas 15 semanas: 15 ilamamuwyb olepui oämamals
                  algunas de esas/aquellas 15 semanas: 15 ilamamuwyb vm.òmacb oämamals
                  algunos de mis ocho/15 kilos: 8/15 sl:òamemawub y.òamicb oämamals
                  algunas de mis ocho semanas: s5miha:3mijwy y.òamicb oämamals
                  algunas de mis 15 semanas: 15 ilamamuwyb y.òamicb oämamals                             
                  algunos de los ocho/15 km: 8/15 Kmapib oämamals
                  algunas de las ocho semanas: s5miha:3mijwy oämamals
                  algunas de las 15 semanas: 15 ilamamuwyb oämamals
                                                              ">
<pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="de"/>
        <pattern-item n="det"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
         <choose>
          <when>
           <test>
            <and>
             <equal>
              <clip pos="3" side="sl" part="a_det"/>
              <lit-tag v="det.pos"/>
             </equal>
             <in caseless="yes">
              <clip pos="5" side="sl" part="lem"/>
              <list n="nombres_con_posesivo_personal"/>
             </in>
            </and>
           </test>
            <call-macro n="choose_prn">
              <with-param pos="3"/>
            </call-macro>
             <out>
              <chunk name="prn_nom_num_ind" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <var n="prn_amo"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_nom"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="4" side="tl" part="lem"/>
                  <clip pos="4" side="tl" part="a_num"/>
                </lu>
                <b pos="3"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
              </chunk>
             </out>
          </when>
              <otherwise>
               <choose>
                <when>
                 <test>
                  <and>
             <equal>
              <clip pos="3" side="sl" part="a_det"/>
              <lit-tag v="det.pos"/>
             </equal>
             <in caseless="yes">
              <clip pos="4" side="tl" part="lem"/>
              <list n="numeros_dos_al_diez"/>
             </in>
             <in caseless="yes">
              <clip pos="5" side="sl" part="lem"/>
              <list n="nombres_numeral_incorporado"/>
             </in>
                  </and>
                 </test>
              <call-macro n="choose_num">
              <with-param pos="4"/>
              </call-macro>
               <out>
              <chunk name="num.nom_det_oämamals" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_nom"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                  <var n="num_val"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="3" side="tl" part="lem"/>
                  <clip pos="3" side="tl" part="a_det"/>
                  <clip pos="3" side="tl" part="nbr"/>
                </lu>
                <b pos="2"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
              </chunk>
               </out>
                </when>
            <otherwise>
             <choose>
              <when>
               <test>
                <and>
                 <equal>
                  <clip pos="3" side="sl" part="a_det"/>
                  <lit-tag v="det.pos"/>
                 </equal>
                 <or>
                 <in caseless="yes">
                  <clip pos="5" side="sl" part="lem"/>
                  <list n="nombres_numeral_incorporado"/>
                 </in>
                 <in caseless="yes">
                  <clip pos="5" side="sl" part="lem"/>
                  <list n="nombres_normalmente_contables"/>
                 </in>
                 </or>
                </and>
               </test>
               <out>
              <chunk name="num_nom_det_oämamals" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="4" side="tl" part="lem"/>
                  <clip pos="4" side="tl" part="a_num"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_nom"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="3" side="tl" part="lem"/>
                  <clip pos="3" side="tl" part="a_det"/>
                  <clip pos="3" side="tl" part="nbr"/>
                </lu>
                <b pos="3"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
              </chunk>
               </out>
              </when>
           <otherwise>
            <choose>
             <when>
              <test>
               <and>
                <equal>
                 <clip pos="3" side="sl" part="lem"/>
                 <lit v="este"/>
                </equal>
                <in caseless="yes">
                 <clip pos="4" side="tl" part="lem"/>
                 <list n="numeros_dos_al_diez"/>
                </in>
                <in caseless="yes">
                 <clip pos="5" side="sl" part="lem"/>
                 <list n="nombres_numeral_incorporado"/>
                </in>
               </and>
              </test>
              <call-macro n="choose_num">
              <with-param pos="4"/>
              </call-macro>
              <out>
              <chunk name="num.nom_olepui_oämamals" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_nom"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                  <var n="num_val"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <lit v="olepui"/>
                   <clip pos="3" side="tl" part="a_det"/>
                   <lit-tag v="sg"/>
                </lu>
                <b pos="2"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
              </chunk>
               </out>
             </when>
           <otherwise>
            <choose>
             <when>
              <test>
               <and>
                <equal>
                 <clip pos="3" side="sl" part="a_det"/>
                 <lit-tag v="det.dem"/>
                </equal>
                 <in caseless="yes">
                 <clip pos="4" side="tl" part="lem"/>
                 <list n="numeros_dos_al_diez"/>
                </in>
                <in caseless="yes">
                 <clip pos="5" side="sl" part="lem"/>
                 <list n="nombres_numeral_incorporado"/>
                </in>
               </and>
              </test>
              <call-macro n="choose_num">
              <with-param pos="4"/>
              </call-macro>
              <out>
              <chunk name="num.nom_vm.òmacb_oämamals" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_nom"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                  <var n="num_val"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <lit v="vm.òmacb"/>
                  <lit-tag v="rel"/>
                </lu>
                <b pos="2"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
              </chunk>
               </out>
             </when>
           <otherwise>
            <choose>
             <when>
              <test>
               <and>
                <equal>
                 <clip pos="3" side="sl" part="lem"/>
                 <lit v="este"/>
                </equal>
                <or>
                 <in caseless="yes">
                 <clip pos="5" side="sl" part="lem"/>
                 <list n="nombres_numeral_incorporado"/>
                </in>
                <in caseless="yes">
                 <clip pos="5" side="sl" part="lem"/>
                 <list n="nombres_normalmente_contables"/>
                </in>
                </or>
               </and>
              </test>
              <out>
              <chunk name="num_nom_olepui_oämamals" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="4" side="tl" part="lem"/>
                  <clip pos="4" side="tl" part="a_num"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_nom"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <lit v="olepui"/>
                   <clip pos="3" side="tl" part="a_det"/>
                   <lit-tag v="sg"/>
                </lu>
                <b pos="3"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
              </chunk>
               </out>
             </when>
           <otherwise>
            <choose>
             <when>
              <test>
               <and>
                <equal>
                 <clip pos="3" side="sl" part="a_det"/>
                 <lit-tag v="det.dem"/>
                </equal>
                <or>
                <in caseless="yes">
                 <clip pos="5" side="sl" part="lem"/>
                 <list n="nombres_numeral_incorporado"/>
                </in>
                <in caseless="yes">
                 <clip pos="5" side="sl" part="lem"/>
                 <list n="nombres_normalmente_contables"/>
                </in>
                </or>
               </and>
              </test>
              <out>
              <chunk name="num_nom_vm.òmacb_oämamals" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="4" side="tl" part="lem"/>
                  <clip pos="4" side="tl" part="a_num"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_nom"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <lit v="vm.òmacb"/>
                  <lit-tag v="rel"/>
                </lu>
                <b pos="3"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
              </chunk>
               </out>
             </when>
           <otherwise>
            <choose>
             <when>
              <test>
               <and>
                <equal>
                 <clip pos="3" side="sl" part="a_det"/>
                 <lit-tag v="det.dem"/>
                </equal>
                <in caseless="yes">
                 <clip pos="4" side="tl" part="lem"/>
                 <list n="numeros_dos_al_diez"/>
                </in>
               </and>
              </test>
              <call-macro n="choose_num">
              <with-param pos="4"/>
              </call-macro>
              <out>
              <chunk name="nom_det.num_ind" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_nom"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="3" side="tl" part="lem"/>
                  <clip pos="3" side="tl" part="a_det"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <var n="num_val"/>
                </lu>
                <b pos="2"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
              </chunk>
             </out>
             </when>
              <otherwise>
               <choose>
                <when>
                 <test>
                  <and>
                   <equal>
                   <clip pos="3" side="sl" part="a_det"/>
                   <lit-tag v="det.def"/>
                  </equal>
                <in caseless="yes">
                 <clip pos="4" side="tl" part="lem"/>
                 <list n="numeros_dos_al_diez"/>
                </in>
                <in caseless="yes">
                 <clip pos="5" side="sl" part="lem"/>
                 <list n="nombres_numeral_incorporado"/>
                </in>
                  </and>
                 </test>
              <call-macro n="choose_num">
              <with-param pos="4"/>
              </call-macro>
             <out>
              <chunk name="nom.num_oämamals" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_nom"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                  <var n="num_val"/>
                </lu>
                <b pos="1"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
              </chunk>
             </out>
                </when>
              <otherwise>
               <choose>
                <when>
                 <test>
                  <and>
                  <equal>
                   <clip pos="3" side="sl" part="a_det"/>
                   <lit-tag v="det.def"/>
                  </equal>
                  <or>
                <in caseless="yes">
                 <clip pos="5" side="sl" part="lem"/>
                 <list n="nombres_numeral_incorporado"/>
                </in>
                <in caseless="yes">
                 <clip pos="5" side="sl" part="lem"/>
                 <list n="nombres_normalmente_contables"/>
                </in>
                  </or>
                  </and>
                 </test>
                  <out>
              <chunk name="nom_num_oämamals" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="4" side="tl" part="lem"/>
                  <clip pos="4" side="tl" part="a_num"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_nom"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
              </chunk>
             </out>
                </when>
              <otherwise>
               <choose>
                <when>
                 <test>
                  <equal>
                   <clip pos="3" side="sl" part="a_det"/>
                   <lit-tag v="det.def"/>
                  </equal>
                 </test>
                  <out>
                   <chunk name="nom_num_ind" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_nom"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="4" side="tl" part="lem"/>
                  <clip pos="4" side="tl" part="a_num"/>
                </lu>
                <b pos="2"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
                   </chunk>
                  </out>
                </when>
                 <otherwise>
                  <out>
                   <chunk name="nom_det_num_ind" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_nom"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="3" side="tl" part="lem"/>
                  <clip pos="3" side="tl" part="a_det"/>
                  <clip pos="3" side="tl" part="nbr"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="4" side="tl" part="lem"/>
                  <clip pos="4" side="tl" part="a_num"/>
                </lu>
                <b pos="3"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
                   </chunk>
                  </out>
                 </otherwise>
               </choose>
                 </otherwise>
               </choose>
                 </otherwise>
               </choose>
                 </otherwise>
               </choose>
                 </otherwise>
               </choose>
                 </otherwise>
               </choose>
                 </otherwise>
               </choose>
              </otherwise>
               </choose>
              </otherwise>
               </choose>
              </otherwise>
            </choose>
           </otherwise>
         </choose>
       </action>
    </rule>














    <rule comment="REGLA: PRN PREP.DE DET NOM:
                  prn+de+det+nom; ejemplo: algunos de esos elefantes: zõmamucreawu eylefohob oämamals
                  prn+de+pos+nom; ejemplo: algunos de mis elefantes: zõmamucreawu y.òamicb oämamals
                  prn+de+pos+nom.pos.per; ejemplo: algunos de mis hermanos: ye s:ememucb oämamals
                  prn+de+def+nom; ejemplo: algunos de los elefantes: zõmamucreawu oämamals

                                                                                                      ">
<pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="de"/>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
       <choose>
        <when>
         <test>
          <and>
           <equal>
            <clip pos="3" side="sl" part="a_det"/>
            <lit-tag v="det.pos"/>
           </equal>
           <in caseless="yes">
             <clip pos="4" side="sl" part="lem"/>
             <list n="nombres_con_posesivo_personal"/>
           </in>
          </and>
         </test>
            <call-macro n="choose_prn">
              <with-param pos="3"/>
            </call-macro>
          <out>
           <chunk name="prn_nom_ind" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <var n="prn_amo"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="a_nom"/>
                  <clip pos="4" side="tl" part="nbr"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
           </chunk>
          </out>
        </when>
         <otherwise>
          <choose>
           <when>
            <test>
             <equal>
              <clip pos="3" side="sl" part="a_det"/>
              <lit-tag v="det.def"/>
             </equal>
            </test>
             <out>
              <chunk name="nom_ind" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="a_nom"/>
                  <clip pos="4" side="tl" part="nbr"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
              </chunk>
             </out>
           </when>
            <otherwise>
             <out>
              <chunk name="nom_det_ind" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="a_nom"/>
                  <clip pos="4" side="tl" part="nbr"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="3" side="tl" part="lem"/>
                  <clip pos="3" side="tl" part="a_det"/>
                  <clip pos="3" side="tl" part="nbr"/>
                </lu>
                <b pos="2"/>
                <lu>
                   <lit v="oämamals"/>
                   <clip pos="1" side="tl" part="a_prn"/>
                   <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
               </chunk>
             </out>
            </otherwise>
          </choose>
         </otherwise>
       </choose>
      </action>
    </rule>
       




    <rule comment="REGLA: DETdem NUM NOM: 
               este+num(2-10)+nom.num.inc= ejemplo: estas tres semanas: il3miwy olepui
               este+num(2-10)+num+nom.cont= ejemplo: estos tres/15 kilómetros:  3/15 Kmapib olepui
               ese+num(2-10)+nom.num.inc= ejemplo: esas tres semanas: il3miwy vm.òmacb
               aquel+num(2-10)+nom.num.inc= ejemplo: aquellas tres semanas: il3miwy vm.òmacb
               dem+num(2-10)+nom= ejemplo: esas tres casas: s:òamàcb eyl3mémadohb 
               ejemplo: esos 3 coches : sl:ömàmawuib eyl3mémadohb  
	                esos 20 coches : sl:ömàmawuib eylefohob 20 sòamémaha:omeli
	       ejemplo: estos 3 coches:  sl:ömàmawuib 3memadohb
                        estos 20 coches:  sl:ömàmawuib olemefohob 20 sòamémaha:omeli 
	       ejemplo: aquellos 3 coches:  sl:ömàmawuib aeyl3mémadohb 
	                aquellos 20 coches: sl:ömàmawuib aeylefohob 20 sòamémaha:omeli 
               ejemplo: estas 20 semanas: 20 ilamamuwyb olepui
                        esas/aquellas 20 semanas/kilos: 20 ilamamuwyb/sl:ömàmawuib vm.òmacb     
                                                                                               ">
      <pattern>
        <pattern-item n="detdem"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <choose>
          <when>
            <test>
              <and>
                <equal>
                 <clip pos="1" side="sl" part="lem"/>
                 <lit v="este"/>
                </equal>
                <in caseless="yes">
                  <clip pos="2" side="tl" part="lem"/>
                  <list n="numeros_dos_al_diez"/>
                </in>
                <in caseless="yes">
                  <clip pos="3" side="sl" part="lem"/>
                  <list n="nombres_numeral_incorporado"/>
                </in>		
              </and>
            </test>
                <call-macro n="choose_num">
                  <with-param pos="2"/>
                </call-macro>
             <out>
              <chunk name="nom.num_olepui" case="caseFirstWord">
                <tags>
                 <tag>
                 <lit-tag v="SN"/>
                 </tag>
                </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_nom"/>
                   <clip pos="3" side="tl" part="nbr"/>
                   <clip pos="3" side="tl" part="lemq"/>
                   <var n="num_val"/>
                 </lu>
                 <b pos="1"/>
                 <lu>
                   <lit v="olepui"/>
                   <clip pos="1" side="tl" part="a_det"/>
                   <lit-tag v="sg"/>
                 </lu>
              </chunk>                
             </out>
          </when>
           <otherwise>
            <choose>
             <when>
              <test>
               <and>
                <equal>
                 <clip pos="1" side="sl" part="lem"/>
                 <lit v="este"/>
                </equal>
                 <or>
                  <in caseless="yes">
                  <clip pos="3" side="sl" part="lem"/>
                  <list n="nombres_normalmente_contables"/>
                  </in>
                  <in caseless="yes">
                  <clip pos="3" side="sl" part="lem"/>
                  <list n="nombres_numeral_incorporado"/>
                  </in>
                 </or>
               </and>
              </test>
               <out>
                 <chunk name="num_nom_olepui" case="caseFirstWord">
                  <tags>
                   <tag>
                   <lit-tag v="SN"/>
                   </tag>
                  </tags>
                  <lu>
                    <clip pos="2" side="tl" part="lem"/>
                    <clip pos="2" side="tl" part="a_num"/> 
                  </lu>
                  <b pos="1"/>
                  <lu>
                    <clip pos="3" side="tl" part="lemh"/>
                    <clip pos="3" side="tl" part="a_nom"/>
                    <clip pos="3" side="tl" part="nbr"/>
                    <clip pos="3" side="tl" part="lemq"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                   <lit v="olepui"/>
                   <clip pos="1" side="tl" part="a_det"/>
                   <lit-tag v="sg"/>
                  </lu>
                 </chunk>        
               </out>
             </when>
              <otherwise>
               <choose>
                <when>
                 <test>
                  <and>
                   <or>
                    <equal>
                     <clip pos="1" side="sl" part="lem"/>
                     <lit v="ese"/>
                    </equal>
                    <equal>
                     <clip pos="1" side="sl" part="lem"/>
                     <lit v="aquel"/>
                    </equal>
                   </or>
                    <in caseless="yes">
                     <clip pos="2" side="tl" part="lem"/>
                     <list n="numeros_dos_al_diez"/>
                    </in>
                     <in caseless="yes">
                     <clip pos="3" side="sl" part="lem"/>
                     <list n="nombres_numeral_incorporado"/>
                    </in>	
                  </and>
                 </test>
                <call-macro n="choose_num">
                  <with-param pos="2"/>
                </call-macro>
                  <out>
                   <chunk name="nom_vm.òmacb" case="caseFirstWord">
                    <tags>
                     <tag>
                     <lit-tag v="SN"/>
                     </tag>
                    </tags>
                    <lu>
                     <clip pos="3" side="tl" part="lemh"/>
                     <clip pos="3" side="tl" part="a_nom"/>
                     <clip pos="3" side="tl" part="nbr"/>
                     <clip pos="3" side="tl" part="lemq"/>
                     <var n="num_val"/>
                    </lu>
                    <b pos="1"/>
                    <lu>
                     <lit v="vm.òmacb"/>
                     <lit-tag v="rel"/>
                    </lu>
                   </chunk> 
                  </out>
                </when>
                <otherwise>
                 <choose>
                  <when>
                   <test>
                    <and>
                       <equal>
                         <clip pos="1" side="sl" part="a_det"/>
                         <lit-tag v="det.dem"/>
                       </equal>
                      <in caseless="yes">
                       <clip pos="2" side="tl" part="lem"/>
                       <list n="numeros_dos_al_diez"/>
                      </in>
                    </and>
                   </test>
                     <call-macro n="choose_num">
                     <with-param pos="2"/>
                     </call-macro>
                    <out>
                     <chunk name="nom_det.num" case="caseFirstWord">
                      <tags>
                       <tag>
                       <lit-tag v="SN"/>
                       </tag>
                      </tags>
                      <lu>
                       <clip pos="2" side="tl" part="lem"/>
                       <clip pos="2" side="tl" part="a_num"/>
                      </lu>
                      <b pos="1"/>
                      <lu>
                       <clip pos="3" side="tl" part="lemh"/>
                       <clip pos="3" side="tl" part="a_nom"/>
                       <clip pos="3" side="tl" part="nbr"/>
                       <clip pos="3" side="tl" part="lemq"/>
                      </lu>
                      <b pos="2"/>
                       <lu>
                       <lit v="eilewei"/>
                       <lit-tag v="adv"/>
                      </lu>
                     </chunk> 
                    </out>
                  </when>
                   <otherwise>
                    <choose>
                     <when>
                      <test>
                       <and>
                       <equal>
                         <clip pos="1" side="sl" part="a_det"/>
                         <lit-tag v="det.dem"/>
                       </equal>
                    <in caseless="yes">
                     <clip pos="3" side="sl" part="lem"/>
                     <list n="nombres_numeral_incorporado"/>
                    </in>
                       </and>
                      </test>
                     <out>
                     <chunk name="num_nom_vm.òmacb" case="caseFirstWord">
                      <tags>
                       <tag>
                       <lit-tag v="SN"/>
                       </tag>
                      </tags>
                       <lu>
                       <clip pos="2" side="tl" part="lem"/>
                       <clip pos="2" side="tl" part="a_num"/>
                      </lu>
                      <b pos="1"/>
                      <lu>
                       <clip pos="3" side="tl" part="lemh"/>
                       <clip pos="3" side="tl" part="a_nom"/>
                       <clip pos="3" side="tl" part="nbr"/>
                       <clip pos="3" side="tl" part="lemq"/>
                      </lu>
                      <b pos="2"/>
                      <lu>
                       <lit v="vm.òmacb"/>
                       <lit-tag v="rel"/>
                      </lu>
                     </chunk> 
                    </out>
                     </when>
                   <otherwise>
                     <choose>
                     <when>
                      <test>
                       <and>
                       <equal>
                         <clip pos="1" side="sl" part="a_det"/>
                         <lit-tag v="det.dem"/>
                       </equal>
                    <in caseless="yes">
                     <clip pos="3" side="sl" part="lem"/>
                     <list n="nombres_normalmente_contables"/>
                    </in>
                       </and>
                      </test>
                     <out>
                     <chunk name="num_nom_eilewei" case="caseFirstWord">
                      <tags>
                       <tag>
                       <lit-tag v="SN"/>
                       </tag>
                      </tags>
                       <lu>
                       <clip pos="2" side="tl" part="lem"/>
                       <clip pos="2" side="tl" part="a_num"/>
                      </lu>
                      <b pos="1"/>
                      <lu>
                       <clip pos="3" side="tl" part="lemh"/>
                       <clip pos="3" side="tl" part="a_nom"/>
                       <clip pos="3" side="tl" part="nbr"/>
                       <clip pos="3" side="tl" part="lemq"/>
                      </lu>
                      <b pos="2"/>
                      <lu>
                       <lit v="eilewei"/>
                       <lit-tag v="adv"/>
                      </lu>
                     </chunk> 
                    </out>
                     </when>
                   <otherwise>
                    <out>
                        <chunk name="_nom_det_num_sòamémaha:omeli" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                          <clip pos="1" side="tl" part="lem"/>
                          <clip pos="1" side="tl" part="a_det"/>
                          <clip pos="1" side="tl" part="nbr"/>
                         </lu>
                         <b pos="2"/>
                         <lu>
                          <clip pos="2" side="tl" part="lem"/>
                          <clip pos="2" side="tl" part="a_num"/>
                         </lu>
                        </chunk> 
                       </out>
 		</otherwise>
       		</choose>
		 </otherwise>
 		      </choose>
 			</otherwise>
  		     </choose>
	 </otherwise>
       </choose>
	</otherwise>
       </choose>
 	</otherwise>
       </choose>
      </action>
    </rule>


<rule comment="REGLA: DETdef NUM NOM: 
 				las 20 semanas: 20 ilamamuwyb 
	                        los 20 kilos: 20 sl:ömàmawui 
    			ejemplo: los 3 coches : sl:ömàmawuib 3memadohb
                  	        los 20 coches : sl:ömàmawuib  20 sòamémaha:omeli
 			def+num(2-10)+nom.num.inc= ejemplo: las 3 semanas: il3miwy 
              		def+num(2-10)+nom.cont= ejemplo: los 3 kilómetros: 3 Kmapib
">
<pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
	<choose>
         <when>
          <test>                      
			<and>
                        <equal>
			<clip pos="1" side="sl" part="lem"/>
                         <lit v="el"/>
                        </equal>
                        <in caseless="yes">
                         <clip pos="2" side="tl" part="lem"/>
                         <list n="numeros_dos_al_diez"/>
                        </in>
                        <in caseless="yes">
                         <clip pos="3" side="sl" part="lem"/>
                         <list n="nombres_numeral_incorporado"/>
                        </in>
                       </and>
                      </test>
                       <call-macro n="choose_num">
                       <with-param pos="2"/>
                       </call-macro>
                       <out>
                        <chunk name="nom" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                          <var n="num_val"/>
                         </lu>
                        </chunk> 
                       </out>
                     </when>
                      <otherwise>
                       <choose>
                        <when>
                         <test>
                       <and>
                        <equal>
                         <clip pos="1" side="sl" part="lem"/>
                         <lit v="el"/>
                        </equal>
                        <in caseless="yes">
                         <clip pos="2" side="tl" part="lem"/>
                         <list n="numeros_dos_al_diez"/>
                        </in>
                        <in caseless="yes">
                         <clip pos="3" side="sl" part="lem"/>
                         <list n="nombres_normalmente_contables"/>
                        </in>
                       </and>
                         </test>
                       <call-macro n="choose_num">
                       <with-param pos="2"/>
                       </call-macro>
                       <out>
                        <chunk name="num_nom" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                          <lu>
                          <clip pos="2" side="tl" part="lem"/>
                          <clip pos="2" side="tl" part="a_num"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                         </lu>
                        </chunk> 
                       </out>
                        </when>
                           <otherwise>    
                            <choose>
                             <when>
                              <test>
                               <and>
                               <equal>
                                <clip pos="1" side="sl" part="lem"/>
                                <lit v="el"/>
                               </equal>
                               <in caseless="yes">
                               <clip pos="2" side="tl" part="lem"/>
                               <list n="numeros_dos_al_diez"/>
                               </in>
                               </and>
                              </test>
                       <call-macro n="choose_num">
                       <with-param pos="2"/>
                       </call-macro>
                       <out>
                        <chunk name="nom_det.num_" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                         </lu>
                         <b pos="1"/>
                          <lu>
                          <clip pos="2" side="tl" part="lem"/>
                          <clip pos="2" side="tl" part="a_num"/>
                         </lu>
                        </chunk> 
                       </out>
                             </when>
                           <otherwise>    
                             <choose>
                              <when>
                               <test>
                                <and>
                                <equal>
                                <clip pos="1" side="sl" part="lem"/>
                                <lit v="el"/>
                                </equal>
                                <or>
                               <in caseless="yes">
                               <clip pos="3" side="sl" part="lem"/>
                               <list n="nombres_normalmente_contables"/>
                               </in>
                               <in caseless="yes">
                               <clip pos="3" side="sl" part="lem"/>
                               <list n="nombres_numeral_incorporado"/>
                               </in>
                                </or>
                                </and>
                               </test>
                          <out>
                        <chunk name="num_nom" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <clip pos="2" side="tl" part="lem"/>
                          <clip pos="2" side="tl" part="a_num"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                         </lu>
                        </chunk> 
                       </out>
                              </when>
                           <otherwise>    
                             <choose>
                              <when>
                               <test>
                                <equal>
                                <clip pos="1" side="sl" part="lem"/>
                                <lit v="el"/>
                                </equal>
                               </test>
                        <out>
                        <chunk name="nom_num_sòamémaha:omeli" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                         </lu>
                         <b pos="1"/>
                          <lu>
                          <clip pos="2" side="tl" part="lem"/>
                          <clip pos="2" side="tl" part="a_num"/>
                         </lu>
                         <b pos="2"/>
                         <lu>
                         <lit v="sòamémaha:omeli"/>
                         <lit-tag v="prn"/>
                         </lu>
                        </chunk> 
                       </out>
                       </when>
                          </choose>
                         </otherwise>   
                          </choose>
                         </otherwise>    
                          </choose>
                         </otherwise>    
                          </choose>
                         </otherwise>    
                          </choose>
                         </action>
			</rule>


<rule comment="REGLA: DETind NUM NOM: 
 	  		unas 15 semanas: 20 ilamamuwyb s:omejghre
                        unos 3/15 kilos: 3/15 sl:ömàmawuib s:omejghre	
			ind+num(2-10)+nom.num.inc= ejemplo: unas tres semanas: il3miwy s:omejghre
               		ind+num(2-10)+nom.cont= ejemplo: unos tres kilómetros: 3 Kmapib s:omejghre
               
		
                                                                                                          ">
<pattern>
        <pattern-item n="detind"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
	<choose>
         <when>
          <test>  
                       <and>
                       <equal>
 			<clip pos="1" side="sl" part="a_det"/>
                         <lit-tag v="det.ind"/>
                        </equal>
                        <in caseless="yes">
                         <clip pos="2" side="tl" part="lem"/>
                         <list n="numeros_dos_al_diez"/>
                        </in>
                        <in caseless="yes">
                         <clip pos="3" side="sl" part="lem"/>
                         <list n="nombres_numeral_incorporado"/>
                        </in>
                       </and>
                            </test>
                       <call-macro n="choose_num">
                       <with-param pos="2"/>
                       </call-macro>
                       <out>
                        <chunk name="nom_s:omejghre" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                          <var n="num_val"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                         <lit v="s:omejghre"/>
                         <lit-tag v="pr"/>
                         </lu>
                        </chunk> 
                       </out>
                           </when>
                            <otherwise>
                             <choose>
                              <when>
                               <test>
                        <and>
                        <equal>
                         <clip pos="1" side="sl" part="a_det"/>
                         <lit-tag v="det.ind"/>
                        </equal>
                        <or>
                        <in caseless="yes">
                         <clip pos="3" side="sl" part="lem"/>
                         <list n="nombres_normalmente_contables"/>
                        </in>
                         <in caseless="yes">
                         <clip pos="3" side="sl" part="lem"/>
                         <list n="nombres_numeral_incorporado"/>
                        </in>
                        </or>
                       </and>
                            </test>
                       <call-macro n="choose_num">
                       <with-param pos="2"/>
                       </call-macro>
                       <out>
                        <chunk name="num_nom_s:omejghre" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <clip pos="2" side="tl" part="lem"/>
                          <clip pos="2" side="tl" part="a_num"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                         </lu>
                         <b pos="2"/>
                         <lu>
                         <lit v="s:omejghre"/>
                         <lit-tag v="pr"/>
                         </lu>
                        </chunk> 
                       </out>
                              </when>
                                </choose>
                              </otherwise>
                                </choose>
				</action>
				</rule>


<rule comment="REGLA: DETpos NUM NOM: 
 	  		mis 3 semanas: il3miwy y.òamicb 
                        mis 20 semanas: 20 ilamamuwyb y.òamicb sòamémaha:omeli 
                        mis tres/20 kilos: 3/20 sl:ömàmawuib y.òamicb sòamémaha:omeli 
		ejemplo: mis 3 coches: sl:ömàmawuib y.òamicb 3memadohb  
                        mis 20 coches: sl:ömàmawuib y.òamicb 20 sòamémaha:omeli  
                        mis 3 hermanos: ye s:ememucb 3memadohb 
                        mis 20 hermanos: ye s:ememucb 20 sòamémaha:omeli  
                                                                             ">
<pattern>
        <pattern-item n="detpos"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
          <choose>
           <when>
            <test>
             <and>
                        <equal>
                <clip pos="1" side="sl" part="a_det"/>
                         <lit-tag v="det.pos"/>
                        </equal>
                        <in caseless="yes">
                         <clip pos="2" side="tl" part="lem"/>
                         <list n="numeros_dos_al_diez"/>
                        </in>
                        <in caseless="yes">
                         <clip pos="3" side="sl" part="lem"/>
                         <list n="nombres_con_posesivo_personal"/>
                        </in>
                                   </and>
                                  </test>
                       <call-macro n="choose_prn">
                       <with-param pos="1"/>
                       </call-macro>
                       <call-macro n="choose_num">
                       <with-param pos="2"/>
                       </call-macro>
                                   <out>
                        <chunk name="prn_nom_deixis" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <var n="prn_amo"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                         </lu>
                         <b pos="2"/>
                         <lu>
                          <clip pos="2" side="tl" part="lem"/>
                          <clip pos="2" side="tl" part="a_num"/>
                        </lu>
                         <b/>
                         <lu>
                         <lit v="sòamémaha:omeli"/>
                         <lit-tag v="prn"/>
                         </lu>
                        </chunk> 
                       </out>
                                 </when>
                                  <otherwise>
                                   <choose>
                                    <when>
                                     <test>
                        <and>
                        <equal>
                         <clip pos="1" side="sl" part="a_det"/>
                         <lit-tag v="det.pos"/>
                        </equal>
                        <in caseless="yes">
                         <clip pos="2" side="tl" part="lem"/>
                         <list n="numeros_dos_al_diez"/>
                        </in>
                         <in caseless="yes">
                         <clip pos="3" side="sl" part="lem"/>
                         <list n="nombres_numeral_incorporado"/>
                        </in>
                        </and>
                                     </test>
                       <call-macro n="choose_num">
                       <with-param pos="2"/>
                       </call-macro>
                         <out>
                        <chunk name="nom.num_y.òamicb" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                         <var n="num_val"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                          <clip pos="1" side="tl" part="lem"/>
                          <clip pos="1" side="tl" part="a_det"/>
                          <clip pos="1" side="tl" part="nbr"/>
                         </lu>
                        </chunk> 
                       </out>
                                    </when>
                                     <otherwise>
                                      <choose>
                                       <when>
                                        <test>
                                         <and>
                         <equal>
                         <clip pos="1" side="sl" part="a_det"/>
                         <lit-tag v="det.pos"/>
                         </equal>
                         <or>
                        <in caseless="yes">
                         <clip pos="3" side="sl" part="lem"/>
                         <list n="nombres_normalmente_contables"/>
                        </in>
                         <in caseless="yes">
                         <clip pos="3" side="sl" part="lem"/>
                         <list n="nombres_numeral_incorporado"/>
                        </in>
                         </or>
                                         </and>
                                        </test>
                        <out>
                        <chunk name="num_nom_y.òamicb" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <clip pos="2" side="tl" part="lem"/>
                          <clip pos="2" side="tl" part="a_num"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                          <clip pos="1" side="tl" part="lem"/>
                          <clip pos="1" side="tl" part="a_det"/>
                          <clip pos="1" side="tl" part="nbr"/>
                         </lu>
                         <b/>
                         <lu>
                         <lit v="sòamémaha:omeli"/>
                         <lit-tag v="prn"/>
                         </lu>
                        </chunk> 
                       </out>
                                       </when>
                                      <otherwise>
                                   <choose>
                                    <when>
                                     <test>
                        <and>
                        <equal>
                         <clip pos="1" side="sl" part="a_det"/>
                         <lit-tag v="det.pos"/>
                        </equal>
                        <in caseless="yes">
                         <clip pos="2" side="tl" part="lem"/>
                         <list n="numeros_dos_al_diez"/>
                        </in>
                        </and>
                                     </test>
                       <call-macro n="choose_num">
                       <with-param pos="2"/>
                       </call-macro>
                       <out>
                        <chunk name="nom_y.òamicb_deixis" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                          <clip pos="1" side="tl" part="lemh"/>
                          <clip pos="1" side="tl" part="a_det"/>
                          <clip pos="1" side="tl" part="nbr"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                          <clip pos="2" side="tl" part="lem"/>
                          <clip pos="2" side="tl" part="a_num"/>
                         </lu>
                        </chunk> 
                       </out>
                                    </when>
                                     <otherwise>
                                      <choose>
                                       <when>
                                        <test>
                        <and>
                        <equal>
                         <clip pos="1" side="sl" part="a_det"/>
                         <lit-tag v="det.pos"/>
                        </equal>
                        <in caseless="yes">
                         <clip pos="3" side="sl" part="lem"/>
                         <list n="nombres_con_posesivo_personal"/>
                        </in>
                        </and>
                                        </test>
                       <call-macro n="choose_prn">
                       <with-param pos="1"/>
                       </call-macro>
                       <out>
                        <chunk name="prn_nom_num_s:òamémaha:omeli" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <var n="prn_amo"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                         </lu>
                         <b pos="2"/>
                         <lu>
                          <clip pos="2" side="tl" part="lem"/>
                          <clip pos="2" side="tl" part="a_num"/>
                         </lu>
                         <b/>
                         <lu>
                         <lit v="sòamémaha:omeli"/>
                         <lit-tag v="prn"/>
                         </lu>
                        </chunk> 
                       </out>
                                       </when>
                                        <otherwise>
                                         <choose>
                                          <when>
                                           <test>
                                           <equal>
                                            <clip pos="1" side="sl" part="a_det"/>
                                            <lit-tag v="det.pos"/>
                                           </equal>
                                           </test>
                                           <out>
                        <chunk name="nom_det_num_sòamémaha:omeli" case="caseFirstWord">
                         <tags>
                          <tag>
                          <lit-tag v="SN"/>
                          </tag>
                         </tags>
                         <lu>
                          <clip pos="3" side="tl" part="lemh"/>
                          <clip pos="3" side="tl" part="a_nom"/>
                          <clip pos="3" side="tl" part="nbr"/>
                          <clip pos="3" side="tl" part="lemq"/>
                         </lu>
                         <b pos="1"/>
                         <lu>
                          <clip pos="2" side="tl" part="lem"/>
                          <clip pos="2" side="tl" part="a_num"/>
                         </lu>
                         <b pos="2"/>
                         <lu>
                          <clip pos="1" side="tl" part="lem"/>
                          <clip pos="1" side="tl" part="a_det"/>
                          <clip pos="1" side="tl" part="nbr"/>
                         </lu>                                
                         <b/>
                         <lu>
                         <lit v="sòamémaha:omeli"/>
                         <lit-tag v="prn"/>
                         </lu>
                        </chunk> 
                       </out>
                                          </when>
                       </choose>
                       </otherwise>
                       </choose>
                       </otherwise>
                       </choose>
                       </otherwise>
                       </choose>
                       </otherwise>
                       </choose>
                       </otherwise>
                       </choose>
      </action>
     </rule>



    <rule comment="REGLA: NUM NOM
                esta regla no la termino de entender
                ejemplo: nombres normalmente contables: 3 metros: 3 scl:âemiwey
                ejemplo: nombres numeral incorporado: 3 semanas: il3miwy
                                                      20 semanas:  20 ilamamuwyb
                ejemplo: resto: 3 casas: s:òamàcb 3 
                                                                                         ">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <choose>
          <when>
            <test>
              <in caseless="yes">
                <clip pos="2" side="sl" part="lem"/>
                <list n="nombres_normalmente_contables"/>
              </in>
            </test>
            <out>
              <chunk name="num_nom" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lem"/>
                  <clip pos="1" side="tl" part="a_num"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_nom"/>
                  <clip pos="2" side="tl" part="nbr"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <choose>
              <when>
                <test>
                  <in caseless="yes">
                    <clip pos="2" side="sl" part="lem"/>
                    <list n="nombres_numeral_incorporado"/>
                  </in>
                </test>
                <call-macro n="choose_num">
                  <with-param pos="1"/>
                </call-macro>
                <choose>
                  <when>
                    <test>
                      <not>
                        <equal>
                          <var n="num_val"/>
                          <lit v=""/>
                        </equal>
                      </not>
                    </test>
                    <out>
                      <chunk name="nomnum" case="caseFirstWord">
                        <tags>
                          <tag>
                            <lit-tag v="SN"/>
                          </tag>
                        </tags>
                        <lu>
                          <clip pos="2" side="tl" part="lemh"/>
                          <clip pos="2" side="tl" part="a_nom"/>
                          <clip pos="2" side="tl" part="nbr"/>
                          <clip pos="2" side="tl" part="lemq"/>
                          <var n="num_val"/>
                        </lu>
                      </chunk>
                    </out>
                  </when>
                  <otherwise>
                    <choose>
                      <when>
                        <test>
                          <not>
                            <equal>
                              <clip pos="2" side="tl" part="nbr"/>
                              <lit-tag v="sg"/>
                            </equal>
                          </not>
                        </test>
                        <out>
                          <chunk name="nom_num" case="caseFirstWord">
                            <tags>
                              <tag>
                                <lit-tag v="SN"/>
                              </tag>
                            </tags>
                            <lu>
                              <clip pos="1" side="tl" part="lem"/>
                              <clip pos="1" side="tl" part="a_num"/>
                            </lu>
                            <b pos="1"/>
                            <lu>
                              <clip pos="2" side="tl" part="lemh"/>
                              <clip pos="2" side="tl" part="a_nom"/>
                              <clip pos="2" side="tl" part="nbr"/>
                              <clip pos="2" side="tl" part="lemq"/>
                            </lu>
                          </chunk>
                        </out>
                      </when>
                      <otherwise>
                        <out>
                          <chunk name="nom" case="caseFirstWord">
                            <tags>
                              <tag>
                                <lit-tag v="SN"/>
                              </tag>
                            </tags>
                            <lu>
                              <clip pos="2" side="tl" part="lemh"/>
                              <clip pos="2" side="tl" part="a_nom"/>
                              <clip pos="2" side="tl" part="nbr"/>
                              <clip pos="2" side="tl" part="lemq"/>
                            </lu>
                          </chunk>
                        </out>
                      </otherwise>
                    </choose>
                  </otherwise>
                </choose>
              </when>
              <otherwise>
                <out>
                  <chunk name="nom_num" case="caseFirstWord">
                    <tags>
                      <tag>
                        <lit-tag v="SN"/>
                      </tag>
                    </tags>
                    <lu>
                      <clip pos="2" side="tl" part="lemh"/>
                      <clip pos="2" side="tl" part="a_nom"/>
                      <clip pos="2" side="tl" part="nbr"/>
                      <clip pos="2" side="tl" part="lemq"/>
                    </lu>
                    <b pos="1"/>
                    <lu>
                      <clip pos="1" side="tl" part="lem"/>
                      <clip pos="1" side="tl" part="a_num"/>
                    </lu>
                  </chunk>
                </out>
              </otherwise>
            </choose>
          </otherwise>
        </choose>
      </action>
    </rule>




    <rule comment="REGLA: ANTROPÒNIM
           debería hacer esto: 
                   ejemplo: María: MARIA
           pero no lo hace
                                                ">
      <pattern>
        <pattern-item n="ant"/>
      </pattern>
      <action>
        <call-macro n="caseNP">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="ant" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>





    <rule comment="REGLA: NOM ADJ
                   ejemplo: silla cómoda: s:aeimedaho yòamizwraiho
                   ejemplo: sillas cómodas: s:aeimedahoby yòamizwraiho
                                                                       ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="nom_adj" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_nom"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>





    <rule comment="REGLA: NOM ADJ ADJ
                   ejemplo: silla cómoda bonita: s:aeimedaho yòamizwraiho chòãzlde-ch.ômic
                   ejemplo: sillas cómodas bonitas: s:aeimedahoby yòamizwraiho chòãzlde-ch.ômic
                                                                                                ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="nom_adj_adj" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_nom"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="nbr"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>



    <rule comment="REGLA: DET NOM ADJ
              pos+nom.pos.per+adj: ejemplo: mi hermano mayor:  s:ememucb õamapeb
              pos+nom+adj: ejemplo: mi coche verde: sl:ömàmawuib ch.Vmazpab y.òamicb
              dem+nom+adj: ejemplo: este coche verde: sl:ömàmawuib ch.Vmazpab olepui
              def+nom+adj: ejemplo: el coche verde: sl:ömàmawuib ch.Vmazpab
              ind+nom+adj: ejemplo: un coche verde: sl:ömàmawuib ch.Vmazpab 

                                      ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
         <choose>
          <when>
           <test>
                  <and>
                    <equal>
                      <clip pos="1" side="sl" part="a_det"/>
                      <lit-tag v="det.pos"/>
                    </equal>
              <in caseless="yes">
                <clip pos="2" side="sl" part="lem"/>
                <list n="nombres_con_posesivo_personal"/>
              </in>
                  </and>
           </test>
            <call-macro n="choose_prn">
              <with-param pos="3"/>
            </call-macro>
        <out>
          <chunk name="det_nom_adj" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_amo"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_nom"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="nbr"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
       </when>
         <otherwise>
          <choose>
           <when>
            <test>
             <or>
              <equal>
                 <clip pos="1" side="sl" part="a_det"/>
                 <lit-tag v="det.pos"/>
              </equal>
              <equal>
                 <clip pos="1" side="sl" part="a_det"/>
                 <lit-tag v="det.dem"/>
              </equal>
             </or>
            </test>
         <out>
          <chunk name="nom_adj_det" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_nom"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="nbr"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_det"/>
              <clip pos="1" side="tl" part="nbr"/>
            </lu>
          </chunk>
         </out>
           </when>
            <otherwise>
         <out>
          <chunk name="nom_adj" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_nom"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="nbr"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
         </out>
            </otherwise>
          </choose>
         </otherwise>
       </choose>
      </action>
    </rule>




    <rule comment="REGLA: NOM ADJ cnjcoo ADJ
                   ejemplo: casa grande y bonita: s:òamàcb s:omewy chòãzlde-ch.ômic
                                                                                    ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="nom_adj_cnjcoo_adj" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_nom"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="a_adj"/>
              <clip pos="4" side="tl" part="nbr"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>



    <rule comment="REGLA: ADJ cnjcoo ADJ
                  ejemplo: grande y rojo: s:omewy chv.ellzpub
                                                             ">
      <pattern>
        <pattern-item n="adjec"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="adj_cnjcoo_adj" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SA"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_adj"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="nbr"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>



    <rule comment="REGLA: DET ADJ NOM
                  ejemplo: def/ind+adj+nom: el/los/un/unos verde(s) bosque(s): s:abeute ch.Vmazpab
                  ejemplo: det+adj+nom: ese verde bosque: s:abeute ch.Vmazpab eylep
                                        este verde bosque: s:abeute ch.Vmazpab olepui
                                        aquel verde bosque: s:abeute ch.Vmazpab aeylep
                  ejemplo: pos+adj+nom: mi/mis verde(s) bosque: s:abeute ch.Vmazpab y.òamicb
                  ejemplo: pos+adj+nom.pos.pers: mi cariñosa madre: Ye vmòma-vn k.òafehezpb
                                                                                                  ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
         <choose>
          <when>
           <test>
            <and>
             <equal>
                 <clip pos="1" side="sl" part="a_det"/>
                 <lit-tag v="det.pos"/>
             </equal>
                 <in caseless="yes">
                 <clip pos="3" side="sl" part="lem"/>
                 <list n="nombres_con_posesivo_personal"/>
                 </in>
            </and>
           </test>
            <call-macro n="choose_prn">
              <with-param pos="1"/>
            </call-macro>
            <out>
             <chunk name="prn_nom_adj" case="caseFirstWord">
               <tags>
                <tag>
                 <lit-tag v="SA"/>
                </tag>
               </tags>
                <lu>
                  <var n="prn_amo"/>
                </lu>
                <b pos="1"/>
                <lu>
                 <clip pos="3" side="tl" part="lemh"/>
                 <clip pos="3" side="tl" part="a_nom"/>
                 <clip pos="3" side="tl" part="nbr"/>
                 <clip pos="3" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                 <clip pos="2" side="tl" part="lem"/>
                 <clip pos="2" side="tl" part="a_adj"/>
                 <clip pos="2" side="tl" part="nbr"/>
                 <clip pos="2" side="tl" part="lemq"/>
	       </lu>
             </chunk>
            </out>
          </when>
           <otherwise>
            <choose>
             <when>
              <test>
               <or>
                <equal>
                 <clip pos="1" side="sl" part="a_det"/>
                 <lit-tag v="det.pos"/>
                </equal>
                <equal>
                 <clip pos="1" side="sl" part="a_det"/>
                 <lit-tag v="det.dem"/>
                </equal>
               </or>
              </test>
               <out>
                <chunk name="nom_adj_det" case="caseFirstWord">
                 <tags>
                 <tag>
                  <lit-tag v="SA"/>
                 </tag>
                 </tags>
                  <lu>
                    <clip pos="3" side="tl" part="lemh"/>
                    <clip pos="3" side="tl" part="a_nom"/>
                    <clip pos="3" side="tl" part="nbr"/>
                    <clip pos="3" side="tl" part="lemq"/>
                  </lu>
                  <b pos="1"/>
                  <lu>
                    <clip pos="2" side="tl" part="lem"/>
                    <clip pos="2" side="tl" part="a_adj"/>
                    <clip pos="2" side="tl" part="nbr"/>
                    <clip pos="2" side="tl" part="lemq"/>
	          </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="1" side="tl" part="lem"/>
                    <clip pos="1" side="tl" part="a_det"/>
                    <clip pos="1" side="tl" part="nbr"/>
	          </lu>
                </chunk>
               </out>
             </when>
              <otherwise>
               <out>
                 <chunk name="nom_adj" case="caseFirstWord">
                   <tags>
                   <tag>
                    <lit-tag v="SA"/>
                   </tag>
                   </tags>
                    <lu>
                      <clip pos="3" side="tl" part="lemh"/>
                      <clip pos="3" side="tl" part="a_nom"/>
                      <clip pos="3" side="tl" part="nbr"/>
                      <clip pos="3" side="tl" part="lemq"/>
                    </lu>
                    <b pos="1"/>
                    <lu>
                      <clip pos="2" side="tl" part="lem"/>
                      <clip pos="2" side="tl" part="a_adj"/>
                      <clip pos="2" side="tl" part="nbr"/>
                      <clip pos="2" side="tl" part="lemq"/>
                    </lu>
                 </chunk>
               </out>
              </otherwise>
            </choose>
           </otherwise>
         </choose>
      </action>
    </rule>







    <rule comment="REGLA: DET ADJ
                   ejemplo def/ind+adj: el verde/los verdes/un verde/unos verdes: ch.Vmazpab
                   ejemplo dem+adj: ese verde: ch.Vmazpab eylep
                                    este verde: ch.Vmazpab olepui
                                    aquel verde: ch.Vmazpab aeylep
                   ejemplo pos+adj: mis verde/ mis verdes: ch.Vmazpab y.òamicb                        ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
         <choose>
          <when>
           <test>
            <or>
             <equal>
                 <clip pos="1" side="sl" part="a_det"/>
                 <lit-tag v="det.pos"/>
             </equal>
             <equal>
                 <clip pos="1" side="sl" part="a_det"/>
                 <lit-tag v="det.dem"/>
             </equal>
            </or>
           </test>
        <out>
          <chunk name="adj_det" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SA"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
              <b pos="1"/>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="a_det"/>
              <clip pos="1" side="tl" part="nbr"/> 
	    </lu>
          </chunk>
        </out>
         </when>
          <otherwise>
        <out>
          <chunk name="adj" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SA"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
          </otherwise>
        </choose>
      </action>
    </rule>





    <rule comment="REGLA: ADJ NOM
                   ejemplo: buena persona: ">
      <pattern>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="sa" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SA"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_nom"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_adj"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>





    <rule comment="REGLA: DET(quan no acompanya res o va amb desconeguda)">
      <pattern>
        <pattern-item n="det"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="DET"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="a_det"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>






    <!-- *************************************** REGLES DE SV *********************************************** -->
    <rule comment="REGLA: VERBser">
      <pattern>
        <pattern-item n="ser"/>
      </pattern>
      <action>
        <out>
          <chunk name="verb_ser" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="a_verb"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="temps"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="pers"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="nbr"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

<rule comment="REGLA: ACABAR.pri DE + INF
		Acabo de comer= Ye v.ôpob hm.òamifeheb ">
      <pattern>
        <pattern-item n="acabarpri"/>
        <pattern-item n="de"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
		<lu>              
		<var n="prn_pers"/>            
		</lu>
          </chunk>
		<b/>
          <chunk name="acabar_pri">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
		<b/>
            <lu>
		<lit v="hm.òamifehob"/>
	       <lit-tag v="adv"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>

<rule comment="REGLA: ACABAR.prs DE + INF
		Acabes de comer= Ele v.ôpob s:ãeimumafahold ">
      <pattern>
        <pattern-item n="acabarprs"/>
        <pattern-item n="de"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
		<lu>              
		<var n="prn_pers"/>            
		</lu>
          </chunk>
		<b/>
          <chunk name="acabar_prs">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
		<b/>
            <lu>
		<lit v="s:ãeimumafahold"/>
	       <lit-tag v="n.sg"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="REGLA: Cuando ACABAR.pri DE + INF
		Cuando acabo de comer= Ye v.ôpob s:ãeimumafahold ">
      <pattern>
        <pattern-item n="rel"/>
        <pattern-item n="acabarpri"/>
        <pattern-item n="de"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <call-macro n="choose_prn2">
              <with-param pos="2"/>
            </call-macro>
        <out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
		<lu>              
		<var n="prn_pers"/>            
		</lu>
          </chunk>
		<b/>
          <chunk name="cd_acabar_pri">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="a_verb"/>
              <clip pos="4" side="tl" part="temps"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
		<b/>
            <lu>
		<lit v="s:ãeimumafahold"/>
	       <lit-tag v="n.sg"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: ACABAR.fti DE + INF
		Acabarás de comer= hm.õamewe ele v.ôpob s:ãeimumafahold ">
      <pattern>
        <pattern-item n="acabarfti"/>
        <pattern-item n="de"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advfuturo" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
		<lit v="hm.õamewe"/>
	       <lit-tag v="adv"/>
	    </lu>
          </chunk>
		<b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
		<lu>              
		<var n="prn_pers"/>            
		</lu>
          </chunk>
		<b/>
          <chunk name="acabar_fti">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
		<b/>
            <lu>
		<lit v="s:ãeimumafahold"/>
	       <lit-tag v="n.sg"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: ACABAR.pii DE + INF
		Acababa de comer= hm.òmamafahocb ele v.ôpob s:ãeimumafahold hm.òamifehob">
      <pattern>
        <pattern-item n="acabarpii"/>
        <pattern-item n="de"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advpasado" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
		<lit v="hm.òmamafahocb"/>
	       <lit-tag v="adv"/>
	    </lu>
          </chunk>
		<b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
		<lu>              
		<var n="prn_pers"/>            
		</lu>
          </chunk>
		<b/>
          <chunk name="acabar_pii">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
		<b/>
            <lu>
		<lit v="s:ãeimumafahold"/>
	       <lit-tag v="n.sg"/>
	    </lu>
		<b/>
            <lu>
		<lit v="hm.òamifehob"/>
	       <lit-tag v="adv"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: ACABAR.ifi DE + INF
		Acabaste de comer= hm.òmamafahocb ele v.ôpob s:ãeimumafahold">
      <pattern>
        <pattern-item n="acabarifi"/>
        <pattern-item n="de"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advpasado" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
		<lit v="hm.òmamafahocb"/>
	       <lit-tag v="adv"/>
	    </lu>
          </chunk>
		<b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>             
		<lu>           
		<var n="prn_pers"/>            
		</lu>
          </chunk>
		<b/>
          <chunk name="acabar_ifi">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
		<b/>
            <lu>
		<lit v="s:ãeimumafahold"/>
	       <lit-tag v="n.sg"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: ACABAR.cni DE + INF
		Acabarías de comer= ele v.ôpob s:ãeimumafahold">
      <pattern>
        <pattern-item n="acabarcni"/>
        <pattern-item n="de"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
		<lu>              
		<var n="prn_pers"/>            
		</lu>
          </chunk>
		<b/>
          <chunk name="acabar_cni">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
		<b/>
            <lu>
		<lit v="s:ãeimumafahold"/>
	       <lit-tag v="n.sg"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: ACABAR.inf DE + INF
		Acabar de comer= v.ôpob s:ãeimumafahold">
      <pattern>
        <pattern-item n="acabarinf"/>
        <pattern-item n="de"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
             <out>
          <chunk name="acabar_inf" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
		<b pos="1"/>
            <lu>
		<lit v="s:ãeimumafahold"/>
	       <lit-tag v="n.sg"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>

<rule comment="REGLA: ACABAR.ger DE + INF
		Acabando de comer= v.ôpob sch.õazpeb s:ãeimumafahold">
      <pattern>
        <pattern-item n="acabarger"/>
        <pattern-item n="de"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
             <out>
          <chunk name="acabar_ger" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
		<b pos="1"/>
            <lu>
		<lit v="sch.õazpeb"/>
	       <lit-tag v="adv"/>
	    </lu>
		<b/>
            <lu>
		<lit v="s:ãeimumafahold"/>
	       <lit-tag v="n.sg"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>
    <rule comment="REGLA: VERBOS SIMPLES EN PRESENTE
		   Vendo: ye sl:aëmiwraho , vendes: ele sl:aëmiwraho, vende: eyle sl:aëmiwraho, vendemos: olemumawraho sl:aëmiwraho, vendéis: elememuwraho sl:aëmiwraho,  venden: eyledahb sl:aëmiwraho 
		Venda, vendas, venda, vendamos, vendáis, vendan: pr.per + sl:aëmiwraho">
      <pattern>
        <pattern-item n="verbpres"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
		<choose>
		<when>
		<test>
		<in caseless="yes">
                <clip pos="1" side="tl" part="lem"/>
                <list n="verbosqueflexionan"/>
        	</in>
		</test>
		<out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
		<lu>              
		<var n="prn_pers"/>            
		</lu>
          </chunk>
		<b/>
          <chunk name="verbprflx">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
		</out>
		</when>
		<otherwise>
        <out>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
		<lu>              
		<var n="prn_pers"/>            
		</lu>
          </chunk>
		<b/>
          <chunk name="verbpr">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
		</otherwise>
		</choose>
      </action>
    </rule>


<rule comment="REGLA: VERBOS EN IMPERATIVO
		Vende: ele sl:aëmiwraho
		Vended: elememuwraho sl:aëmiwraho ">
      <pattern>
        <pattern-item n="imp"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
				<out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
		<lu>              
		<var n="prn_pers"/>            
		</lu>
          </chunk>
		<b/>
          <chunk name="verbimp" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
		</out>
      </action>
    </rule>




    <rule comment="REGLA: VERBOS SIMPLES EN PASADO
		   Vendí, vendiste, vendió, vendimos, vendistéis, vendieron: hm.òmamafahocb (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho
		   Vendía, vendías, vendía, vendíamos, vendíais, vendían: hm.òmamafahocb (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho ">
      <pattern>
        <pattern-item n="verbpas"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out> 
        <chunk name="advpasado" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
		<lit v="hm.òmamafahocb"/>
	       <lit-tag v="adv"/>
	    </lu>
          </chunk>
            <b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
            <b/>
          <chunk name="verbps">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>






  <rule comment="REGLA: VERBOS SIMPLES EN FUTURO
		 Venderé, venderás, venderá, venderemos, vederéis, venderán: hm.õamewe (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho ">
      <pattern>
        <pattern-item n="verbfut"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advfuturo" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
		<lit v="hm.õamewe"/>
	        <lit-tag v="adv"/>
	    </lu>
          </chunk>
	    <b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="verbft">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


  <rule comment="REGLA: VERBOS SIMPLES EN CONDICIONAL
		 Vendería, venderías, vendería, venderíamos, venderíais, venderían, vendería:(pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho
		 vendiera o vendiese, vendieras o vendieses, vendierais o vendieseis, vendiéramos o vendiésemos, vendierais o vendieseis, vendieran o vendiesen:(pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho">
      <pattern>
        <pattern-item n="verbcond"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
 <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
            <b/>
          <chunk name="verb_cond">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

<rule comment="REGLA: VERBO HABER + PP
	       (he, has, ha, hemos, habéis, han) + PP (vendido):(pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho ym.õazpub 
	       habiendo vendido: sl:aëmiwraho ym.õazpub 
	       haber vendido: sl:aëmiwraho ym.õazpub
	       (haya, hayas, haya, hayamos, hayáis, hayan) + PP (vendido):(pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho ym.õazpub
	       (había, habías, había, habíamos, habíais, habían) + PP (vendido):(pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho ym.õazpub  ">

      <pattern>
        <pattern-item n="haver_ya"/>
        <pattern-item n="verbpp"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
 <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
	    </lu>
          </chunk>
	    <b/>
          <chunk name="haver_pp">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	    <b/>
	    <lu>
		<lit v="ym.õazpub"/>
	        <lit-tag v="adv"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: VERBO HABERFTI + PP
	       (habré, habrás, habrá, habremos, habréis, habrán) + PP (vendido): hm.õamewe (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho ym.õazpub ">
      <pattern>
        <pattern-item n="haverfti"/>
        <pattern-item n="verbpp"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
 <call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advfuturo" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
	    <lu>
		<lit v="hm.õamewe"/>
	        <lit-tag v="adv"/>
	    </lu>
          </chunk>
	    <b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
	    <lu>
              <var n="prn_pers"/>
	    </lu>
          </chunk>
	    <b/>
          <chunk name="haverfti_pp">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	    <b/>
	    <lu>
		<lit v="ym.õazpub"/>
	        <lit-tag v="adv"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>

<rule comment="REGLA: HABERCOND + PP
	       (habría, habrías, habría, habríamos, habríais, habrían) + PP (vendido):(pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho 
	       (hubiera o hubiese, hubieras o hubieses, hubiera o hubiese, hubiéramos o hubiésemos, huberais o hubieseis, hubieran o hubiesen) + PP (vendido):(pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho ">
      <pattern>
        <pattern-item n="havercond"/>
        <pattern-item n="verbpp"/>
      </pattern>
      <action>
       <!-- <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
		<b/>
          <chunk name="havercond_pp">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

<rule comment="REGLA: HABERIFI + PP
	       (Hube, hubiste, hubo, hubimos, hubisteis, hubieron) + PP (vendido):: hm.òmamafahocb (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho ">
      <pattern>
        <pattern-item n="haverifi"/>
        <pattern-item n="verbpp"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advpasado" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
	      <lit v="hm.òmamafahocb"/>
	      <lit-tag v="adv"/>
	    </lu>
          </chunk>
		<b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="haverifi_pp">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: HABERFTS + PP
	       (Hubiere, hubieres, hubiere, hubiéremos, hubiereis, hubieren) + PP (vendido): hm.õamewe (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho ym.õazpub ">
      <pattern>
        <pattern-item n="haverfts"/>
        <pattern-item n="verbpp"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advfuturo" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
	      <lit v="hm.õamewe"/>
	      <lit-tag v="adv"/>
	    </lu>
          </chunk>
	    <b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
	    </lu>
          </chunk>
	    <b/>
          <chunk name="haverfts_pp">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	    <b/>
            <lu>
	      <lit v="ym.õazpub"/>
	      <lit-tag v="adv"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: HABER QUE
	       	Hay que + V.Inf (vender): sl:aëmiwraho eämamadoheb
		Habría que + V.Inf (vender): sl:aëmiwraho eämamadoheb
		Haya que + V.Inf (vender): sl:aëmiwraho eämamadoheb
		        						">
      <pattern>
        <pattern-item n="haver_que"/>
        <pattern-item n="haverqueinf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="haberque" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	    <b pos="1"/>
	    <lu>
	      <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>

<rule comment="REGLA: HABERimp QUE
	       	Haber que + V.Inf (vender): sl:aëmiwraho eämamadoheb
		Habiendo que + V.Inf (vender): sl:aëmiwraho eämamadoheb
		Habido que + V.Inf (vender): sl:aëmiwraho eämamadoheb
		        						">
      <pattern>
        <pattern-item n="haverimp_que"/>
        <pattern-item n="haverqueinf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="haberimpque" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="temps"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	    <b pos="1"/>
	    <lu>
	      <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="temps"/>
              <clip pos="1" side="tl" part="lemq"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: HABERpas QUE
	       	Había que + V.Inf (vender):hm.òmamafahocb sl:aëmiwraho eämamadoheb
		Hubo que + V.Inf (vender):hm.òmamafahocb sl:aëmiwraho eämamadoheb
		        						">
      <pattern>
        <pattern-item n="haverpas_que"/>
        <pattern-item n="haverqueinf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="advpasado" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
	      <lit v="hm.òmamafahocb"/>
	      <lit-tag v="adv"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="haberpasque">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	    <b pos="1"/>
	    <lu>
	      <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: HABERfut QUE
	       	Habrá que + V.Inf (vender):hm.òmamafahocb sl:aëmiwraho eämamadoheb
		        						">
      <pattern>
        <pattern-item n="haverfut_que"/>
        <pattern-item n="haverqueinf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="advfuturo" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
	      <lit v="hm.õamewe"/>
	      <lit-tag v="adv"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="haberfutque">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	    <b pos="1"/>
	    <lu>
	      <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: HABER DE
	       	(He, has, ha, hemos, habéis, han) de + V.Inf (vender): (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho eämamadoheb 
		(Habría, habrías, habría, habríamos, habríais, habrían) de + V.Inf (vender): (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho eämamadoheb 
		(Haya, hayas, haya, hayamos, hayáis, hayan) de + V.Inf (vender): (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho eämamadoheb 
		(Hubiera, hubieras, hubiera, hubiéramos, hubierais, hubieran) de + V.Inf (vender): (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho 			eämamadoheb
		(Hubiere, hubieres, hubiere, hubiéremos, hubiereis, hubieren) de + V.Inf (vender): (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho 			eämamadoheb.
										">
      <pattern>
        <pattern-item n="haver_de"/>
        <pattern-item n="haverqueinf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="haberde">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	    <b/>
	    <lu>
	      <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: HABERfut DE
		(Habré, habrás, habrá, habremos, habréis, habrán) de + V.Inf (vender): hm.õamewe (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho eämamadoheb 
										">
      <pattern>
        <pattern-item n="haverfut_de"/>
        <pattern-item n="haverqueinf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advfuturo" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
	      <lit v="hm.õamewe"/>
	      <lit-tag v="adv"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="haberfutde">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	    <b/>
	    <lu>
	      <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: HABERpas DE
		(Había, habías, habría, habíamos, habíais, habrían) de + V.Inf (vender): hm.òmamafahocb(pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho 			eämamadoheb
		(Hube, hubiste, hubo, hubimos, hubisteis, hubieron) de + V.Inf (vender): hm.òmamafahocb(pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho 			eämamadoheb
										">
      <pattern>
        <pattern-item n="haverpas_de"/>
        <pattern-item n="haverqueinf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advpasado" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
	      <lit v="hm.òmamafahocb"/>
	      <lit-tag v="adv"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="haberpasde">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
	    <b/>
	    <lu>
	      <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: ESTAR + ADJ/PP
		pri + adj: estamos contentos= (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) schiämimulb
		pri + pp: estamos dormidos= (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) kõa
		prs + adj: estemos contentos= (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb)  schiämimulb
		prs + pp: estemos dormidos= (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) kõa
		pis + adj: estuviera contento= (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb)  schiämimulb
		pis + pp: estuviera dormidos= (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) kõa
		cni + adj: estarían contentos= (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) schiämimulb
		cni + pp: estarían dormidos= (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) kõa
								">
      <pattern>
        <pattern-item n="estar_adj_pp"/>
        <pattern-item n="adj__pp"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="estar_adj_pp">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj__pp"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

<rule comment="REGLA: ESTARINFGER + ADJ/PP
		inf + pp: estar dormido= kõa
		ger + pp: estando dormido= kõa
								">
      <pattern>
        <pattern-item n="estarinfger_adj_pp"/>
        <pattern-item n="adj__pp"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="estarinfger_adj_pp" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj__pp"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: ESTARPAS + ADJ/PP
		Estuve, estuviste, estuvo, estuvimos, estuvistéis, estuvieron + ADJ (contento): hm.òmamafahocb (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) 			schiämimulb. 
		Estuve, estuviste, estuvo, estuvimos, estuvistéis, estuvieron + PP (dormido): hm.òmamafahocb (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) kõã.
		Estaba, estabas, estaba, estabamos, estabais, estaban + ADJ (contento): hm.òmamafahocb (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) 			schiämimulb.
		Estaba, estabas, estaba, estabamos, estabais, estaban + PP (dormido): hm.òmamafahocb (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) 			 kõã.			
	       ">
      <pattern>
        <pattern-item n="estarpas_adj_pp"/>
        <pattern-item n="adj__pp"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advfuturo" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
	      <lit v="hm.òmamafahocb"/>
	      <lit-tag v="adv"/>
	    </lu>
          </chunk>
	    <b/>
          <chunk name="prn_pers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="estarpas_adj_pp">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj__pp"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

<rule comment="REGLA: ESTARFUT + ADJ/PP
		Estaré, estarás, estará, estaremos, estaréis, estarán + ADJ (contento): hm.õamewe (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) schiämimulb.
		Estaré, estarás, estará, estaremos, estaréis, estarán + PP (dormido): hm.õamewe (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) kõã.
		Estuviere, estuvieres, estuviere, estuviéremos, estuviereis, estuvieren + ADJ (contento): hm.õamewe (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) 			schiämimulb.
		Estuviere, estuvieres, estuviere, estuviéremos, estuviereis, estuvieren + PP (dormido): hm.õamewe (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) kõã.
						">
      <pattern>
        <pattern-item n="estarfut_adj_pp"/>
        <pattern-item n="adj__pp"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advfuturo" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
	      <lit v="hm.õamewe"/>
	      <lit-tag v="adv"/>
	    </lu>
          </chunk>
	    <b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="estarfut_adj_pp">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj__pp"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>




<rule comment="REGLA: CUÁNDO FUTURO
		Cuándo + fti, fts, pri, prs, cni= pro.per + verbo + õamewe
		Cuándo vendrás= ele abéímamuwui õamewe">
      <pattern>
        <pattern-item n="cuándo"/>
        <pattern-item n="verbcuándofut"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="2"/>
            </call-macro>
        <out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
          	    <b/>
          <chunk name="cuándo_fut">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          	    <b/>
            <lu>
	      <lit v="õamewe"/>
	      <lit-tag v="adv.itg"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: CUÁNDO PASADO
		Cuándo + pii, pis, ifi= pro.per + verbo + hm.òamamafahecb
		Cuándo viniste= ele abéímamuwui hm.òamamafahecb">
      <pattern>
        <pattern-item n="cuándo"/>
        <pattern-item n="verbperspas"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="2"/>
            </call-macro>
        <out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
              <var n="prn_pers"/>
            </lu>
          </chunk>
          	    <b/>
          <chunk name="cuándo_pas">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          	    <b/>
            <lu>
	      <lit v="hm.òamamafahecb"/>
	      <lit-tag v="adv.itg"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: CUÁNDO INFINITIVO
		Cuándo + inf=  verbo + õamewe
		Cuándo empezar= s:amedahe õamewe">
      <pattern>
        <pattern-item n="cuándo"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="cuándo_inf" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="temps"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          	    <b pos="1"/>
            <lu>
	      <lit v="õamewe"/>
	      <lit-tag v="adv.itg"/>
	    </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: GERUNDIO
			durmiendo: kõã
					">
      <pattern>
        <pattern-item n="ger"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="ger" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="ger"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="a_verb"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="temps"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="temps"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <let>
          <var n="caseFirstWord"/>
          <lit v="aa"/>
        </let>
      </action>
    </rule>


<rule comment="REGLA: INFINITIVO
			dormir: kõã
					">
      <pattern>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="inf" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="inf"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="a_verb"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="temps"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="temps"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <let>
          <var n="caseFirstWord"/>
          <lit v="aa"/>
        </let>
      </action>
    </rule>

<rule comment="REGLA: ESTARpri + GER
		Estoy, estás , está, estamos, estáis, están + vendiendo: chomaq (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho
	       					">
      <pattern>
        <pattern-item n="estarpri"/>
        <pattern-item n="ger"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advpresente" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
		<lit v="chomaq"/>
	      <lit-tag v="adv"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
		<var n="prn_pers"/>
            </lu>
          </chunk>
		<b/>
          <chunk name="estarpri_ger">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_ger"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

 
    


<rule comment="REGLA: ESTARinfger + GER
		Estar durmiendo: kõã
		Estando durmiemdo: kõã
	       					">
      <pattern>
        <pattern-item n="estarinfger_adj_pp"/>
        <pattern-item n="ger"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="estarinfger_ger" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_ger"/>
              <clip pos="2" side="tl" part="temps"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


<rule comment="REGLA: ESTARpas + GER
		Estuve, estuviste, estuvo, estuvimos, estuvistéis, estuvieron + vendiendo: hm.òmamafahocb (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho
		Estaba, estabas, estaba, estabamos, estabais, estaban + vendiendo: hm.òmamafahocb (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho
	       					">
      <pattern>
        <pattern-item n="estarpas_adj_pp"/>
        <pattern-item n="ger"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advpasado" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
		<lit v="hm.òmamafahocb"/>
	      <lit-tag v="adv"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
		<var n="prn_pers"/>
            </lu>
          </chunk>
		<b/>
          <chunk name="estarpas_ger" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_ger"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

<rule comment="REGLA: ESTARfut + GER
		Estaré, estarás, estará, estaremos, estaréis, estarán + vendiendo: hm.õamewe (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho
		Estuviere, estuvieres, estuviere, estuviéremos, estuviereis, estuvieren + vendiendo: hm.õamewe (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) 			sl:aëmiwraho
	       					">
      <pattern>
        <pattern-item n="estarfut_adj_pp"/>
        <pattern-item n="ger"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="advfuturo" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="adv"/>
              </tag>
            </tags>
            <lu>
		<lit v="hm.õamewe"/>
	      <lit-tag v="adv"/>
            </lu>
          </chunk>
	    <b/>
          <chunk name="prnpers">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
            <lu>
		<var n="prn_pers"/>
            </lu>
          </chunk>
		<b/>
          <chunk name="estarfut_ger">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_ger"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

<rule comment="REGLA: ESTARcnd + GER
		Estaría, estarías, estaría, estaríamos, estaríais, estarían + vendiendo: (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho
		Estuviera, estuvieras, estuviera, estuviéramos, estuvierais, estuvieran + vendiendo: (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) 			 sl:aëmiwraho
		Esté, estés, esté, estemos, estéis, estén + vendiendo: (pr_pers: ye,ele,eyle,olemumawraho,elememuwraho,eyledahb) sl:aëmiwraho
	       					">
      <pattern>
        <pattern-item n="estarcn_ger"/>
        <pattern-item n="ger"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
<call-macro n="choose_prn2">
              <with-param pos="1"/>
            </call-macro>
        <out>
          <chunk name="prnpers" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
            </tags>
		<lu>
		<var n="prn_pers"/>
            </lu>
          </chunk>
		<b/>
          <chunk name="estarcn_ger">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_ger"/>
              <clip pos="2" side="tl" part="temps"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>




    <rule comment="REGLA: INF
		comer: v:ôpob
				">
      <pattern>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="inf" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="a_verb"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="temps"/>
              </tag> 
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="temps"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

<rule comment="REGLA: pro VERB pr
		prnpro + pri/prs/cni/fts de un verbo que flexione: te llamo= ye shol:eumawe
		prnpro + pri/prs/cni/fts de un verbo que no flexione: te reservo= ye ele omemuwel">
      <pattern>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbperspr"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
 <call-macro n="choose_prn2">
              <with-param pos="1"/>
         </call-macro>  
         <call-macro n="choose_prn2">
              <with-param pos="2"/>
         </call-macro>
    <choose>
    <when>
      <test> 
        <in caseless="yes">
                  <clip pos="2" side="tl" part="lem"/>
                  <list n="verbosqueflexionan"/>
        </in>
      </test>
      <out>
          <chunk name="proverbpr" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="a_verb"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="temps"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="pers"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="nbr"/>
              </tag>
            </tags>
		<lu>
		<var n="prn_pers_verb"/>
            </lu>
		<b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
    </when>
    <otherwise>
        <out>
          <chunk name="proverbbpr" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="a_verb"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="temps"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="pers"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="nbr"/>
              </tag>
            </tags>
		<lu>
		<var n="prn_pers_verb"/>
            </lu>
	    <b pos="1"/>
		<lu>
		<var n="prn_pers_pro"/>
            </lu>
		<b/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/> 
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
    </otherwise>
    </choose>
      </action>
    </rule>



<rule comment="REGLA: pro VERB pas
		prnpro + pii/ifi/pis de un verbo que flexione: me llamó= hm.òmamafahocb eyle ylshel:euwoo
		prnpro + pii/ifi/pis de un verbo que no flexione: me reservó= hm.òmamafahocb eyle ye omemuwel ">
      <pattern>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbperspas"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
         <call-macro n="choose_prn2">
              <with-param pos="1"/>
         </call-macro>  
         <call-macro n="choose_prn2">
              <with-param pos="2"/>
         </call-macro>
    <choose>
    <when>
      <test> 
        <in caseless="yes">
                  <clip pos="2" side="tl" part="lem"/>
                  <list n="verbosqueflexionan"/>
        </in>
      </test>
      <out>
          <chunk name="proverbpas" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="a_verb"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="temps"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="pers"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="nbr"/>
              </tag>
            </tags>
            <lu>
		<lit v="hm.òmamafahocb"/>
	      <lit-tag v="adv"/>
            </lu>
		<b pos="1"/>
		<lu>
		<var n="prn_pers_verb"/>
            </lu>
		<b/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
    </when>
    <otherwise>
        <out>
          <chunk name="proverbbpas" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="a_verb"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="temps"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="pers"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="nbr"/>
              </tag>
            </tags>
            <lu>
		<lit v="hm.òmamafahocb"/>
	      <lit-tag v="adv"/>
            </lu>
		<b pos="1"/>
		<lu>
		<var n="prn_pers_verb"/>
            </lu>
	    <b/>
		<lu>
		<var n="prn_pers_pro"/>
            </lu>
		<b/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/> 
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
    </otherwise>
    </choose>
      </action>
    </rule>



 


<rule comment="REGLA: pro VERB fut
		prnpro + fti de un verbo que flexione: te llamaré = hm.õamewe ye shol:eumawe 
		prnpro + fti de un verbo que no flexione: te reservaré= hm.õamewe ye ele omemuwel ">
      <pattern>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbpersfut"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
 <call-macro n="choose_prn2">
              <with-param pos="1"/>
         </call-macro>  
         <call-macro n="choose_prn2">
              <with-param pos="2"/>
         </call-macro>
    <choose>
    <when>
      <test> 
        <in caseless="yes">
                  <clip pos="2" side="tl" part="lem"/>
                  <list n="verbosqueflexionan"/>
        </in>
      </test>
      <out>
          <chunk name="proverbfut" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="a_verb"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="temps"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="pers"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="nbr"/>
              </tag>
            </tags>
            <lu>
		<lit v="hm.õamewe"/>
	      <lit-tag v="adv"/>
            </lu>
		<b pos="1"/>
		<lu>
		<var n="prn_pers_verb"/>
            </lu>
	    <b/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
    </when>
    <otherwise>
        <out>
          <chunk name="proverbbfut" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SV"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="a_verb"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="temps"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="pers"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="nbr"/>
              </tag>
            </tags>
            <lu>
		<lit v="hm.õamewe"/>
	      <lit-tag v="adv"/>
            </lu>
		<b pos="1"/>
		<lu>
		<var n="prn_pers_verb"/>
            </lu>
	    <b/>
		<lu>
		<var n="prn_pers_pro"/>
            </lu>
		<b/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/> 
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
    </otherwise>
    </choose>
      </action>
    </rule>





    <!--************************************ ALTRES ************************************************ -->
    <rule comment="prnpro">
      <!--per quan va seguit d'un verb desconegut-->
      <pattern>
        <pattern-item n="prnpro"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="pro" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="prnpro"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="tipoenc_pro"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <lit-tag v="prn.pro"/>
              <clip pos="1" side="tl" part="tipoenc_pro"/>
            </lu>
          </chunk>
        </out>
        <let>
          <var n="caseFirstWord"/>
          <lit v="aa"/>
        </let>
      </action>
    </rule>






    <rule comment="PRN personal que pot ser subjecte">
      <pattern>
        <pattern-item n="prnperssubj"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <choose>
          <when>
            <test>
              <equal>
                <clip pos="1" side="sl" part="gen"/>
                <lit-tag v="m"/>
              </equal>
            </test>
            <out>
              <chunk name="prnperssubj" case="caseFirstWord">
                <tags>
                  <tag>
                    <lit-tag v="SN"/>
                  </tag>
                  <tag>
                    <clip pos="1" side="tl" part="tipus_prn"/>
                  </tag>
                  <tag>
                    <clip pos="1" side="sl" part="gen"/>
                  </tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lem"/>
                  <clip pos="1" side="tl" part="a_prn"/>
                  <clip pos="1" side="tl" part="tipus_prn"/>
                </lu>
                <b/>
                <lu>
                  <lit v="t.amigrob"/>
                  <lit-tag v="n"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <choose>
              <when>
                <test>
                  <equal>
                    <clip pos="1" side="sl" part="gen"/>
                    <lit-tag v="f"/>
                  </equal>
                </test>
                <out>
                  <chunk name="prnperssubj" case="caseFirstWord">
                    <tags>
                      <tag>
                        <lit-tag v="SN"/>
                      </tag>
                      <tag>
                        <clip pos="1" side="tl" part="tipus_prn"/>
                      </tag>
                      <tag>
                        <clip pos="1" side="sl" part="gen"/>
                      </tag>
                    </tags>
                    <lu>
                      <clip pos="1" side="tl" part="lem"/>
                      <clip pos="1" side="tl" part="a_prn"/>
                      <clip pos="1" side="tl" part="tipus_prn"/>
                    </lu>
                    <b/>
                    <lu>
                      <lit v="reāmag"/>
                      <lit-tag v="n"/>
                    </lu>
                  </chunk>
                </out>
              </when>
              <otherwise>
                <out>
                  <chunk name="prnperssubj" case="caseFirstWord">
                    <tags>
                      <tag>
                        <lit-tag v="SN"/>
                      </tag>
                      <tag>
                        <clip pos="1" side="tl" part="tipus_prn"/>
                      </tag>
                    </tags>
                    <lu>
                      <clip pos="1" side="tl" part="lem"/>
                      <clip pos="1" side="tl" part="a_prn"/>
                      <clip pos="1" side="tl" part="tipus_prn"/>
                    </lu>
                  </chunk>
                </out>
              </otherwise>
            </choose>
          </otherwise>
        </choose>
      </action>
    </rule>






    <rule comment="PRN no personal que pot ser subjecte">
      <pattern>
        <pattern-item n="prnsubj"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="prnsubj" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="tipus_prn"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="gen"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="nbr"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="a_prn"/>
              <clip pos="1" side="tl" part="tipus_prn"/>
              <clip pos="1" side="tl" part="pers"/>
            </lu>
          </chunk>
        </out>
        <let>
          <var n="caseFirstWord"/>
          <lit v="aa"/>
        </let>
      </action>
    </rule>





    <rule comment="PRNITG">
      <pattern>
        <pattern-item n="prnitg"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="prnitg" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="tipus_prn"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="gen"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="nbr"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="a_prn"/>
              <clip pos="1" side="tl" part="tipus_prn"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>








    <rule comment="PRNREL">
      <pattern>
        <pattern-item n="rel"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
	<choose>
	  <when>
	    <test>
	      <equal>
                <clip pos="1" side="sl" part="lem"/>
                <lit v="cuando"/>
	      </equal>
	</test>
        <let>
          <var n="lema"/>
          <lit v="cuando"/>	
        </let>
         </when>
	<otherwise>
        <let>
          <var n="lema"/>
          <lit v="rel"/>	
        </let>
 </otherwise>
</choose>
	
	

	
        <out>
          <chunk namefrom="lema" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="tipus_prn"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="gen"/>
              </tag>
              <tag>
                <clip pos="1" side="tl" part="nbr"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="a_prn"/>
              <clip pos="1" side="tl" part="tipus_prn"/>
              <clip pos="1" side="tl" part="gen"/>
              <clip pos="1" side="tl" part="nbr"/>
            </lu>
          </chunk>
        </out>
        <let>
          <var n="caseFirstWord"/>
          <lit v="aa"/>
        </let>
      </action>
    </rule>






    <rule comment="cnjcoo">
      <pattern>
        <pattern-item n="cnjcoo"/>
      </pattern>
      <action>
      </action>
    </rule>




    <rule comment="CNJ">
      <pattern>
        <pattern-item n="cnj"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="cnj" case="caseFirstWord">
            <tags>
              <tag>
                <clip pos="1" side="tl" part="tags"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <let>
          <var n="caseFirstWord"/>
          <lit v="aa"/>
        </let>
      </action>
    </rule>






    <rule comment="PREP">
      <pattern>
        <pattern-item n="prep"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <let>
          <var n="lema"/>
          <clip pos="1" side="tl" part="lem"/>
        </let>
        <out>
          <chunk namefrom="lema" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="PREP"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <let>
          <var n="caseFirstWord"/>
          <lit v="aa"/>
        </let>
      </action>
    </rule>





    <rule comment="NUMERAL">
      <pattern>
        <pattern-item n="numeral"/>
      </pattern>
      <action>
        <!--<call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>-->
        <out>
          <chunk name="num" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
              <tag>
                <var n="genero"/>
              </tag>
              <tag>
                <var n="numero"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="a_num"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>







    <rule comment="NUMERAL en cifra">
      <pattern>
        <pattern-item n="cifra"/>
      </pattern>
      <action>
        <out>
          <chunk name="cifra" case="caseFirstWord">
            <tags>
              <tag>
                <lit-tag v="SN"/>
              </tag>
              <tag>
                <lit-tag v="mf"/>
              </tag>
              <tag>
                <lit-tag v="sp"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="a_num"/>
            </lu>
          </chunk>
        </out>
        <let>
          <var n="caseFirstWord"/>
          <lit v="aa"/>
        </let>
      </action>
    </rule>






    <rule>
      <!-- REGLA: reset variables-->
      <pattern>
        <pattern-item n="sent"/>
      </pattern>
      <action>
        <let>
          <var n="numero"/>
          <lit-tag v="sg"/>
        </let>
        <let>
          <var n="genero"/>
          <lit-tag v="m"/>
        </let>
        <choose>
          <when>
            <test>
              <not>
                <or>
                  <equal>
                    <clip pos="1" side="sl" part="lem"/>
                    <lit v=";"/>
                  </equal>
                  <equal>
                    <clip pos="1" side="sl" part="lem"/>
                    <lit v=":"/>
                  </equal>
                </or>
              </not>
            </test>
            <let>
              <var n="EOS"/>
              <lit v="true"/>
            </let>
          </when>
        </choose>
        <out>
          <chunk name="punt">
            <tags>
              <tag>
                <lit-tag v="sent"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>





    <rule>
      <!-- REGLA: coma-->
      <pattern>
        <pattern-item n="coma"/>
      </pattern>
      <action>
        <out>
          <chunk name="coma">
            <tags>
              <tag>
                <lit-tag v="cm"/>
              </tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule>
      <!-- REGLA: elimina ? i !-->
      <pattern>
        <pattern-item n="lquest"/>
      </pattern>
      <action>
      </action>
    </rule>
  </section-rules>
</transfer>
